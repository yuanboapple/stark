{"remainingRequest":"/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/222/src/views/contractor/OrderManage.vue?vue&type=template&id=7b727bb3&scoped=true&","dependencies":[{"path":"/Users/mac/Desktop/222/src/views/contractor/OrderManage.vue","mtime":1561110742000},{"path":"/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/templateLoader.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n<div>\n    <div class=\"contain-head\">\n        <div class=\"head-pre\"></div>\n        <span class=\"head-title\">订单状态</span>\n    </div>\n    <div class=\"contain-footer\">\n         <div class=\"contain-footer-top\">\n           <div class=\"contain-footer-topl\">\n               <div  v-for=\"(item,index) in timeSlotArr\" :key=\"index\" @click=\"handleChooseTimeSlot(item.value)\"  :class=\"`date-option${item.value===condition.timeSlot?' choose':''}`\">\n                   <span>{{item.title}}</span>\n               </div>                                                                          \n           </div>\n           <div class=\"contain-footer-topr\">\n              <el-select v-model=\"condition.type\" class=\"state-input\" @change=\"handleSelectType\"  placeholder=\"订单状态\">\n               <el-option label=\"全部\" :value=\"1\"></el-option>\n               <el-option label=\"未付款\" :value=\"2\"></el-option>\n               <el-option label=\"待确认\" :value=\"3\"></el-option>\n               <el-option label=\"已确认\" :value=\"4\"></el-option>\n               <el-option label=\"已结算\" :value=\"7\"></el-option>\n               <el-option label=\"异常\" :value=\"9\"></el-option>\n                <template v-if=\"$store.state.userData.platform === 'acceptance'\">\n                 <el-option label=\"已失效\" :value=\"5\"></el-option>\n                 <el-option label=\"已取消\" :value=\"6\"></el-option>            \n                </template>\n             </el-select>\n             <template v-if=\"$store.state.userData.platform === 'stark'\">\n              <el-select v-model=\"condition.searchType\" class=\"order-input\" @change=\"handleSelectSearchType\"  placeholder=\"订单号\">\n               <el-option label=\"订单号\" :value=\"1\"></el-option>\n               <el-option label=\"承兑商名称\" :value=\"2\"></el-option>\n               <el-option label=\"渠道商名称\" :value=\"3\"></el-option>\n               <el-option label=\"商户名称\" :value=\"4\"></el-option>\n              </el-select>\n             </template>                                   \n             <el-input v-model=\"condition.keyword\" class=\"searchTool\" :placeholder=\"$store.state.userData.platform === 'stark'?'':'请输入用户姓名或者订单号'\">\n                   <i\n                    class=\"el-icon-search el-input__icon\"\n                    slot=\"suffix\"\n                    @click=\"handleSearchClick(condition.keyword)\">\n                   </i>\n             </el-input>\n             <el-button class=\"dowload-Btn\" type=\"primary\">导出</el-button>\n           </div>               \n         </div>\n        <div class=\"contain-footer-bottom\">\n          <el-table\n                :data=\"orderList\"\n                border\n                style=\"width: 100%\">\n            <!-- Stark平台订单管理列表     -->\n            <template v-if=\"$store.state.userData.platform === 'stark'\">\n                <el-table-column align=\"center\"\n                  prop=\"acceptance\"\n                  label=\"承兑商名称\"\n                  min-width=\"100\">\n                </el-table-column>  \n                <el-table-column\n                  prop=\"orderNum\"\n                  label=\"订单号\"\n                  min-width=\"100\"\n                  align=\"center\">                      \n                </el-table-column>\n                <el-table-column\n                  prop=\"user\"\n                  label=\"用户姓名\"\n                  min-width=\"120\"\n                  align=\"center\">\n                </el-table-column>\n                <el-table-column\n                  prop=\"amount\"\n                  label=\"订单金额（CNY）\"\n                  align=\"center\"\n                  min-width=\"80\">\n                </el-table-column>\n                <el-table-column\n                  prop=\"currency\"\n                  label=\"订单金额（USDT）\"\n                  align=\"center\"\n                  min-width=\"80\">\n                </el-table-column>\n                <el-table-column\n                  prop=\"payTime\"\n                  label=\"支付时间\"\n                  align=\"center\"\n                  min-width=\"90\">\n                </el-table-column>                                        \n                <el-table-column\n                  label=\"订单状态\"\n                  prop=\"status\"\n                  align=\"center\"\n                  min-width=\"120\">\n                  <template slot-scope=\"scope\">\n                      <el-tag v-if=\"scope.row.status.code === 2\"  size=\"medium\" type=\"info\">\n                        {{scope.row.status.title}}\n                      </el-tag>\n                      <el-tag v-else-if=\"scope.row.status.code === 7\"  size=\"medium\" type=\"success\">\n                        {{scope.row.status.title}}\n                      </el-tag>\n                      <el-tag v-else-if=\"scope.row.status.code === 9\"  size=\"medium\" type=\"danger\">\n                        {{scope.row.status.title}}\n                      </el-tag>\n                      <el-tag v-else-if=\"scope.row.status === 4\"  size=\"medium\" type=\"warning\">\n                        {{scope.row.status.title}}\n                      </el-tag>\n                      <el-tag v-else  size=\"medium\">\n                        {{scope.row.status.title}}\n                      </el-tag>                                                                                                                                \n                  </template>\n                </el-table-column>\n                <el-table-column\n                  prop=\"cost\"\n                  label=\"平台手续费（USDT）\"\n                  align=\"center\"\n                  min-width=\"100\">\n                </el-table-column>\n                <el-table-column\n                  prop=\"acceptanceCommission\"\n                  label=\"承兑商佣金（USDT）\"\n                  align=\"center\"\n                  min-width=\"100\">\n                </el-table-column>\n                <el-table-column\n                  prop=\"merchant\"\n                  label=\"商户名称\"\n                  align=\"center\"\n                  min-width=\"100\">\n                </el-table-column>\n                <el-table-column\n                  prop=\"merchantCommission\"\n                  label=\"商户结算金额\"\n                  align=\"center\"\n                  min-width=\"80\">\n                </el-table-column>\n                <el-table-column\n                  label=\"操作\"\n                  align=\"center\"\n                  min-width=\"100\"\n                  >\n                   <template slot-scope=\"scope\">\n                       <div v-if=\"scope.row.status.code == 9\">\n                          <el-button  class=\"sys-text-Btn\" @click=\"_getOrderDetail(scope.row.id)\"  type=\"text\" size=\"small\">查看</el-button>\n                          <el-button class=\"sys-text-Btn\" @click=\"dealDialogShow = true;id = scope.row.id;\"  type=\"text\" size=\"small\">处理</el-button>\n                       </div>\n                       <div v-else>\n                           <el-button class=\"sys-text-Btn\" @click=\"_getOrderDetail(scope.row.id)\"  type=\"text\" size=\"small\">查看</el-button>                               \n                       </div>\n                   </template>\n                </el-table-column> \n            </template>\n            <!-- 承兑商平台订单管理列表 -->\n            <template v-else>\n                <el-table-column align=\"center\"\n                  type=\"index\"\n                  label=\"序号\"\n                  width=\"50\">\n                </el-table-column>  \n                <el-table-column\n                  prop=\"orderNum\"\n                  label=\"订单号\"\n                  min-width=\"100\"\n                  align=\"center\">                      \n                </el-table-column>\n                <el-table-column\n                  prop=\"user\"\n                  label=\"用户姓名\"\n                  min-width=\"120\"\n                  align=\"center\">\n                </el-table-column>\n                <el-table-column\n                  prop=\"amount\"\n                  label=\"订单金额（CNY）\"\n                  align=\"center\"\n                  min-width=\"80\">\n                </el-table-column>\n                <el-table-column\n                  prop=\"currency\"\n                  label=\"订单金额（USDT）\"\n                  align=\"center\"\n                  min-width=\"80\">\n                </el-table-column>\n                <el-table-column\n                  prop=\"payTime\"\n                  label=\"支付时间\"\n                  align=\"center\"\n                  min-width=\"90\">\n                </el-table-column>                                        \n                <el-table-column\n                  label=\"订单状态\"\n                  prop=\"status\"\n                  class-name=\"operator-row\"\n                  align=\"center\"\n                  min-width=\"75\">\n                  <template slot-scope=\"scope\" >\n                      <el-tag v-if=\"scope.row.status.code === 2\"  size=\"medium\" type=\"info\">\n                        {{scope.row.status.title}}\n                      </el-tag>\n                      <el-tag v-else-if=\"scope.row.status.code === 7\"  size=\"medium\" type=\"success\">\n                        {{scope.row.status.title}}\n                      </el-tag>\n                      <el-tag v-else-if=\"scope.row.status.code === 9\"  size=\"medium\" type=\"danger\">\n                        {{scope.row.status.title}}\n                      </el-tag>\n                      <el-tag v-else-if=\"scope.row.status.code === 4\"  size=\"medium\" type=\"warning\">\n                        {{scope.row.status.title}}\n                      </el-tag>\n                      <el-tag v-else  size=\"medium\">\n                        {{scope.row.status.title}}\n                      </el-tag>                                                                                                                                \n                  </template>\n                </el-table-column>\n                <el-table-column\n                  prop=\"commission\"\n                  label=\"佣金\"\n                  align=\"center\"\n                  min-width=\"70\">\n                </el-table-column>\n                <el-table-column\n                  label=\"操作\"\n                  align=\"center\"\n                  min-width=\"170\"\n                  class-name=\"operator-row\"\n                  >\n                   <template slot-scope=\"scope\" >\n                     <el-button  @click=\"_getOrderDetail(scope.row.id)\"  type=\"primary\" class=\"sys-defalut-Btn\" size=\"mini\">查看</el-button> \n                     <el-button v-if=\"scope.row.status.code == 2\"  @click=\"cancealOrder(scope.row.id)\" class=\"sys-defalut-Btn\"  type=\"warning\" size=\"mini\">取消订单</el-button>\n                     <template v-else-if=\"scope.row.status.code == 3\">\n                       <el-button   @click=\"confirmOrder(scope.row.id)\"  type=\"success\" class=\"sys-defalut-Btn\" size=\"mini\">确认订单</el-button>\n                       <el-button   @click=\"remarkErrorDialog = true;id = scope.row.id\" class=\"sys-defalut-Btn\"  type=\"danger\" size=\"mini\">标记异常</el-button>\n                     </template>                        \n                   </template>\n                </el-table-column>\n                <el-table-column\n                  prop=\"remark\"\n                  label=\"异常备注\"\n                  align=\"center\"\n                  min-width=\"80\">\n                </el-table-column> \n            </template>                \n        </el-table>\n        <div class=\"footerbottom-bottom\">\n        <div class=\"total-title\" v-show=\"total\">\n        <span class=\"total-count\">2个小时内不确认订单，系统将自动确认订单，并将订单放入结算管理</span>\n        </div>    \n         <el-pagination\n            class=\"pagination\"\n            background\n            layout=\"prev, pager, next\"\n            :page-size=\"per_page\"\n            :hide-on-single-page=\"orderList.length<15\"\n            :total=\"total\"\n            :current-page.sync=\"condition.page\"\n            @current-change=\"handleCurrentPage\">\n         </el-pagination>            \n        </div>             \n       </div>               \n    </div>\n   <el-dialog class=\"dialog\"\n       v-if=\"orderDetail\"\n       id=\"order-dialog\"\n       title=\"订单详情\"\n       :visible.sync=\"detailDialogShow\"\n       width=\"50%\"\n       >\n       <el-steps v-if=\"orderDetail.isCancel\"  :active=\"activeIndex\" class=\"order-detail-step\" align-center>\n           <el-step class=\"errorStep\" title=\"订单已取消\" description=\"2019年05月05日16:03:30\"></el-step>\n       </el-steps> \n       <el-steps v-else-if=\"orderDetail.isAbnormal\"  :active=\"activeIndex\" class=\"order-detail-step\" align-center>\n           <el-step class=\"errorStep\" title=\"订单异常\" description=\"2019年05月05日16:03:30\"></el-step>\n       </el-steps>                                 \n       <el-steps  v-else :active=\"activeIndex\" class=\"order-detail-step\" align-center>\n          <el-step  title=\"待支付\"  :description=\"orderDetail.orderProgress.confirmTime.hasOwnProperty('payTime')?orderDetail.orderProgress.confirmTime.payTime.time:''\"></el-step>\n          <el-step  title=\"确认收款\" :description=\"orderDetail.orderProgress.confirmTime.hasOwnProperty('settlementTime')?orderDetail.orderProgress.confirmTime.settlementTime.time:''\"></el-step>\n          <el-step title=\"订单完成\" :description=\"orderDetail.orderProgress.confirmTime.hasOwnProperty('confrimOrderTime')?orderDetail.orderProgress.confirmTime.settlementTime.time:''\"></el-step>\n       </el-steps>\n       <div id=\"order-info\" class=\"info-wrap\">\n           <span class=\"info-wrap-title\">订单信息</span>\n               <el-row class=\"info-wrap-item\">\n                   <el-col :span=\"10\"><span>订单编号：{{orderDetail.orderInfo.orderNum}}</span></el-col>\n                   <el-col :span=\"8\" :offset=\"6\"><span>支付方式：{{orderDetail.orderInfo.payType}}</span></el-col>                        \n               </el-row>\n               <el-row class=\"info-wrap-item\">\n                   <el-col :span=\"10\"><span>支付账户：{{orderDetail.orderInfo.payer}}</span></el-col>\n                   <el-col :span=\"8\" :offset=\"6\"><span>支付时间：{{orderDetail.orderInfo.payTime}}</span></el-col>                        \n               </el-row>\n               <el-row class=\"info-wrap-item\">\n                   <el-col :span=\"10\"><span>交易流水号：{{orderDetail.orderInfo.pipelineNum}}</span></el-col>\n                   <el-col :span=\"8\" :offset=\"6\"><span>付款金额：{{orderDetail.orderInfo.amount}}元</span></el-col>                        \n               </el-row>\n               <el-row class=\"info-wrap-item\">\n                   <el-col :span=\"10\"><span>付款人姓名：{{orderDetail.orderInfo.username}}</span></el-col>                     \n               </el-row>                              \n       </div>\n       <div id=\"tokenism-info\" class=\"info-wrap\" >\n           <span class=\"info-wrap-title\">分润信息</span>\n               <el-row  class=\"info-wrap-item\" v-if=\"orderDetail.orderSettlement.acceptance\">\n                   <el-col :span=\"8\"><span>承兑商名称：{{orderDetail.orderSettlement.acceptance.platformName}}</span></el-col>\n                   <el-col :span=\"8\" ><span>账号：{{orderDetail.orderSettlement.acceptance.account}}</span></el-col>\n                   <el-col :span=\"8\" ><span>佣金：{{orderDetail.orderSettlement.acceptance.commission}}usdt</span></el-col>                           \n               </el-row>\n               <el-row class=\"info-wrap-item\" v-if=\"orderDetail.orderSettlement.channel\">\n                   <el-col :span=\"8\"><span>渠道商名称：{{orderDetail.orderSettlement.channel.platformName}}</span></el-col>\n                   <el-col :span=\"8\" ><span>账号：{{orderDetail.orderSettlement.channel.account}}</span></el-col>\n                   <el-col :span=\"8\" ><span>佣金：{{orderDetail.orderSettlement.channel.commission}}usdt</span></el-col>                        \n               </el-row>\n               <el-row class=\"info-wrap-item\" v-if=\"orderDetail.orderSettlement.merchant\">\n                   <el-col :span=\"8\"><span>商户名称：{{orderDetail.orderSettlement.merchant.platformName}}</span></el-col>\n                   <el-col :span=\"8\" ><span>账号：{{orderDetail.orderSettlement.merchant.account}}</span></el-col>\n                   <el-col :span=\"8\" ><span>佣金：{{orderDetail.orderSettlement.merchant.commission}}usdt</span></el-col>                        \n               </el-row>\n               <el-row class=\"info-wrap-item\">\n                   <el-col :span=\"8\"><span>平台佣金：{{orderDetail.orderSettlement.commission}}usdt</span></el-col>                     \n               </el-row>\n               <el-row class=\"info-wrap-item\" id=\"tokenism-time\">\n                   <el-col :span=\"12\"><span>分润时间：{{orderDetail.orderSettlement.settlementTime}}</span></el-col>                     \n               </el-row>                                                                     \n       </div>\n       <div id=\"action-log\" class=\"info-wrap\">\n           <span class=\"info-wrap-title\">操作记录</span>\n              <template v-if=\"orderDetail.confirm.length\">\n                  <div  v-for=\"item in orderDetail.confirm\" :key=\"item.confirmUser\">\n                     <el-row  class=\"info-wrap-item\">\n                         <el-col :span=\"8\"><span>① {{item.behavior}}</span></el-col>                         \n                     </el-row>\n                     <el-row class=\"info-wrap-item sub-item\">\n                         <el-col :span=\"10\"><span>操作人：{{item.confirmUser}}</span></el-col>\n                         <el-col :span=\"8\" :offset=\"6\"><span>操作时间：{{item.confirmTime}}</span></el-col>                        \n                     </el-row>\n                     <el-row class=\"info-wrap-item sub-item\">\n                         <el-col :span=\"10\"><span>操作备注：无</span></el-col>                     \n                     </el-row>                     \n                  </div>\n              </template>\n              <span v-else>无</span> \n       </div>\n        <span slot=\"footer\" class=\"dialog-footer\">\n         <el-button class=\"sys-Btn\" type=\"primary\" @click=\"detailDialogShow = false\">确 定</el-button>\n       </span>                      \n    </el-dialog>\n   <el-dialog class=\"dialog\" \n       id=\"deal-dialog\"\n       title=\"处理\"\n       :visible.sync=\"dealDialogShow\"\n       width=\"30%\"\n       >\n       <div id=\"deal-dialog-wrap\">\n          <div class=\"dialog-radio\">\n            <el-radio v-model=\"state\"  label=\"1\">取消订单</el-radio>\n          </div>\n          <div class=\"dialog-radio\">\n            <el-radio v-model=\"state\" label=\"2\">重制订单状态</el-radio>\n          </div>\n          <div class=\"dialog-radio\">\n            <el-radio v-model=\"state\" label=\"3\">确认收款</el-radio>\n          </div>\n       </div>                                        \n        <span slot=\"footer\" class=\"dialog-footer\">\n         <el-button class=\"sys-Btn\" type=\"primary\" @click=\"confirmDeal(id)\">确 定</el-button>\n       </span>                      \n    </el-dialog>\n  <el-dialog \n       v-if=\"$store.state.userData.platform === 'acceptance'\"\n       class=\"dialog\"\n       id=\"remarkErrorDialog\"\n       title='提示'\n       :visible.sync=\"remarkErrorDialog\"\n       width=\"25%\"\n       center\n       >\n    <div id=\"commission-dialog-wrap\">\n       <el-form :model=\"errorInfoForm\"  ref=\"errorInfoForm\" label-width=\"auto\" size=\"medium\" label-position=\"top\" class=\"demo-ruleForm\">\n           <el-form-item label=\"异常说明：\">\n                <el-input type=\"textarea\" resize=\"none\" v-model=\"errorInfoForm.remark\"></el-input>\n           </el-form-item>                                                \n       </el-form>\n    </div>   \n       <span slot=\"footer\" class=\"dialog-footer\">\n         <el-button class=\"sys-Btn\" type=\"primary\" @click=\"submitErrorIntro\" >确 定</el-button>               \n         <el-button id=\"cancealBtn\" @click=\"remarkErrorDialog= false\">取 消</el-button>\n       </span>\n   </el-dialog>        \n</div>\n",null]}