{"remainingRequest":"/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/222/src/views/operatingRecord/index.vue?vue&type=style&index=0&id=7125dd6a&lang=less&scoped=true&","dependencies":[{"path":"/Users/mac/Desktop/222/src/views/operatingRecord/index.vue","mtime":1561100498000},{"path":"/Users/mac/Desktop/222/node_modules/_css-loader@1.0.1@css-loader/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js","mtime":1559616265000},{"path":"/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.opearateMan-input, .opearateAction-input{\n    margin-right: 1.25rem\n}\n.confirm-btn-text{\n    color: #54B3D9;\n}\n",{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgMA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/operatingRecord","sourcesContent":["<template>\n    <div>\n        <div class=\"contain-head\">\n            <div class=\"head-pre\"></div>\n            <span class=\"head-title\">操作记录</span>\n        </div>\n        <div class=\"contain-footer\">\n             <div class=\"contain-footer-top\">\n               <div class=\"contain-footer-topl\">\n                   <div  v-for=\"(item,index) in timeSlotArr\" :key=\"index\" @click=\"handleChooseTimeSlot(item.value)\"  :class=\"`date-option${item.value===condition.timeSlot?' choose':''}`\">\n                       <span>{{item.title}}</span>\n                   </div>                                                                            \n               </div>\n               <div class=\"contain-footer-topr\">\n                  <el-select v-model=\"condition.u_id\" class=\"opearateMan-input\" @change=\"handleSelectOperator\"  placeholder=\"操作员\">\n                   <el-option v-for=\"item in opearators\" :key=\"item.id\" :label=\"item.username\" :value=\"item.id\"></el-option>\n                 </el-select>\n                 <el-select v-model=\"condition.confirm\" @change=\"handleSelectState\" class=\"opearateAction-input\"  placeholder=\"操作行为\">\n                   <el-option label=\"确认订单\" value=\"6\"></el-option>\n                   <el-option label=\"结算\" value=\"3\"></el-option>\n                   <el-option label=\"标记异常\" value=\"2\"></el-option>\n                   <el-option label=\"取消订单\" value=\"4\"></el-option>\n                   <el-option label=\"重置操作\" value=\"5\"></el-option>\n                 </el-select>                                   \n                 <el-input v-model=\"condition.keyword\" class=\"searchTool\">\n                       <i\n                        class=\"el-icon-search el-input__icon\"\n                        slot=\"suffix\"\n                        @click=\"handleSearchClick(condition.keyword)\">\n                       </i>\n                 </el-input>\n                 <el-button class=\"dowload-Btn\" type=\"primary\">下载</el-button>\n               </div>               \n             </div>\n            <div class=\"contain-footer-bottom\">\n                <el-table\n                    :data=\"recodeList\"\n                    border\n                    style=\"width: 100%;\">\n                    <el-table-column align=\"center\"\n                     type=\"index\"\n                     label=\"序号\"\n                     width=\"50\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"confirmTime\"\n                      label=\"操作时间\"\n                      max-width=\"100\"\n                      align=\"center\">                      \n                    </el-table-column>                      \n                    <el-table-column\n                      prop=\"orderNum\"\n                      label=\"订单号\"\n                      min-width=\"100\"\n                      align=\"center\">                      \n                    </el-table-column>                  \n                    <el-table-column\n                      prop=\"amount\"\n                      label=\"订单金额\"\n                      align=\"center\"\n                      width=\"130\">\n                    </el-table-column>\n                    <el-table-column\n                      label=\"操作行为\"\n                      align=\"center\"\n                      width=\"170\">\n                      <template slot-scope=\"scope\">\n                        <span v-if=\"scope.row.behavior == 3\"  type=\"text\" class=\"success-text\"  size=\"small\">{{scope.row.title}}</span>\n                        <span v-else-if=\"scope.row.behavior == 1\"  type=\"text\" class=\"primary-text\"  size=\"small\">{{scope.row.title}}</span>\n                        <span v-else-if=\"scope.row.behavior == 2\"  type=\"text\" class=\"danger-text\"  size=\"small\">{{scope.row.title}}</span>\n                        <span v-else  type=\"text\" class=\"warning-text\"  size=\"small\">{{scope.row.title}}</span>\n                      </template>\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"username\"\n                      label=\"操作员\"\n                      align=\"center\"\n                      width=\"170\">\n                    </el-table-column>                                                                                                                                            \n                </el-table> \n            <el-pagination\n                class=\"pagination\"\n                background\n                layout=\"prev, pager, next\"\n                :page-size=\"per_page\"\n                :hide-on-single-page=\"recodeList.length<15\"\n                :total=\"recodeList.length\"\n                :current-page.sync=\"current_page\"\n                @current-change=\"handleCurrentPage\"                \n                >\n            </el-pagination>\n            <div style=\"clear:both;\"></div>\n            </div>               \n        </div>        \n\n    </div>\n</template>\n<script>\nexport default {\n    data() {\n        return {\n            condition: {\n                keyword:'',\n                timeSlot: 1,\n                u_id:null,\n                confirm:'',\n                page:1\n            },\n            recodeList:[],\n            opearators:[],\n            per_page:0,//列表每页的页数\n            current_page:1,\n            timeSlotArr: [{title:\"今天\",value:1}, {title:\"昨天\",value:2}, {title:\"近一周\",value:3}, {title:\"近一月\",value:4}, {title:\"全部\",value:5}],\n            tableData:[{\n                opearateTime: '2017-09-19 12:23:12',\n                orderNum: '20190426115521567',\n                call: 8000,\n                operateAction: \"确认订单\",\n                operateMan: \"客服部刘倩\"\n            }]        \n        }\n    },\n    methods: {\n        /*\n        **搜索\n        */        \n        async handleSearchClick(value){\n          this.condition.keyword = value\n          await this._getRecordList(this.condition)\n          this.condition.page = 1\n        },\n        /*\n        **选择日期请求订单事件\n        */\n        async handleChooseTimeSlot(value){\n          this.condition.timeSlot = value\n          this.condition.page = 1\n          await this._getRecordList(this.condition)\n        },\n        /*\n        **获取操作记录列表\n        */\n       async _getRecordList(condition){\n           let _conditon = condition\n           let resData = await this.http.post(\"/OrderConfirmLog/getLogs.api\", _conditon)\n           if(resData.code === 200){\n               this.recodeList = resData.data.data\n               this.per_page = resData.data.per_page\n           }   \n       },\n        /*\n        **获取操作员列表\n        */\n       async _getOperateList(){\n           let resData = await this.http.get(\"/platformUser/getPlatformQuick\")\n           if(resData.code === 200){\n               this.opearators = resData.data\n           }\n       },       \n        /*\n        **处理改变页数事件\n        */\n        async handleCurrentPage(cur){\n           this.condition.page = cur\n           await this._getRecordList(this.condition)\n        },\n        /*\n        **下拉选择状态\n        */\n        async handleSelectState(value){\n          this.condition.type = value\n          await this._getRecordList(this.condition)\n          this.condition.page = 1\n        },\n        /*\n        **下拉选择操作员\n        */\n        async handleSelectOperator(u_id){\n          this.condition.u_id = u_id\n          await this._getRecordList(this.condition)\n          this.condition.page = 1\n        },\n    },\n    async mounted() {\n        await this._getOperateList()\n        await this._getRecordList(this.condition)\n        \n    },\n\n}\n</script>\n<style lang=\"less\" scoped>\n.opearateMan-input, .opearateAction-input{\n    margin-right: 1.25rem\n}\n.confirm-btn-text{\n    color: #54B3D9;\n}\n</style>\n"]}]}