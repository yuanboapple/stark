{"remainingRequest":"/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/222/src/views/business/BusiDataStatistic.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/222/src/views/business/BusiDataStatistic.vue","mtime":1561113150000},{"path":"/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport IncomeTable from '../../components/IncomeTable.vue'\nexport default {\n    components:{\n        \"income-table\":IncomeTable\n     },\n    data() {\n        return {\n            service:{},\n            serviceArr:[\n                {\n                 title: \"实时结算金额\",\n                 USDT: \"1552.165\",\n                 bkg: require(\"../../assets/imgs/main/orange.jpg\")\n                },\n                {\n                 title: \"昨日结算额\",\n                 USDT: \"6564.98\",\n                 bkg: require(\"../../assets/imgs/main/blue.jpg\")\n                },\n                {\n                 title: \"月结算量\",\n                 USDT: \"767586.67\",\n                 bkg: require(\"../../assets/imgs/main/red.jpg\")\n                },\n                {\n                 title: \"总结算金额\",\n                 USDT: \"7697687.09\",\n                 bkg: require(\"../../assets/imgs/main/purple.jpg\")\n                },                                                                                                   \n            ], \n            timeSlotArr: [{title:\"今天\",value:1}, {title:\"昨天\",value:2}, {title:\"近一周\",value:3}, {title:\"近一月\",value:4}, {title:\"全部\",value:5}],\n            condition: {\n                id: null,\n                timeSlot: 1,\n                keyword:'',\n                startTime:'',\n                endTime:'',\n                page: null,\n            },\n            dateValue: '',\n            orderList: [],\n            businessList: [],\n            total:0,\n            tableData: [{\n                time: \"2017-09-19 12:23:12\",\n                orderNum: \"20190426115521567\",\n                cny: 50,\n                usdt: 50,\n                rate: \"1:1\",\n                zhichu: 20,\n                jiesuan: 30,\n                account: \"18200113696\",\n                businessName: \"公司A\"\n            }\n            ]\n        }\n    },\n    methods: {\n        /*\n        **搜索\n        */      \n        async handleConSearchClick(){\n          this.condition.id = 0\n          await this._getBusinessOrder(this.condition)\n        },\n        /*\n        **获取商户数据订单\n        */\n        async _getBusinessOrder(condition)\n        {\n            let _condition = condition\n            let resData = {}\n            if(this.$store.state.userData.platform === 'stark'){\n              resData = await this.http.post('/statistics/countMerchantOrder.api', _condition)\n            } else {\n              resData = await this.http.post('/statistics/merchantCountOrder.api', _condition)\n            }\n            if(resData.code === 200){\n                this.orderList = resData.data.data\n                this.total = resData.data.total\n            }\n        },\n        /*\n        **选择日期请求订单事件\n        */\n        async handleChooseTimeSlot(value){\n         if(Object.keys(this.$route.query).length){\n            let id = this.$route.query.id\n            this.condition.id = id\n          }\n          this.condition.timeSlot = value\n          await this._getBusinessOrder(this.condition)\n        },\n        /*\n        **处理改变页数事件\n        */\n        async handleCurrentPage(cur){\n           this.condition.page = cur\n           this._getBusinessOrder(this.condition)\n        },\n        /*\n        **处理下拉渠道选择商户\n        */\n        async handleSelectSearchType(value){\n          this.condition.id = value\n          this.condition.page = 1\n          await this._getBusinessOrder(this.condition)\n        },\n        /*\n        **获取渠道商下商户\n        */\n        async _getBusinessInChannel(){\n          let resData = await this.http.get('/statistics/searchChannelMerchantQuick')\n          if(resData.code === 200){\n            this.businessList = resData.data\n          }\n        },\n        /*\n        **确定选择时间\n        */        \n        async confirmSelectDate(date){\n          let _date = date\n          if(!_date){\n            this.condition.timeType = ''\n            delete this.condition.startTime\n            delete this.condition.endTime\n            this.condition.page = 1\n            this.orderList = []\n            this.total = 0          \n          } else if(_date.length){\n            this.condition.timeType = 2\n            this.condition.startTime = this.common.formatDate(_date[0])\n            this.condition.endTime = this.common.formatDate(_date[1])\n            this.condition.timeSlot = ''\n            this._getBusinessOrder(this.condition) \n          }\n        }        \n        \n    },\n    async mounted() {\n       if(Object.keys(this.$route.query).length){\n         let id = this.$route.query.id\n         this.condition.id = id\n       }\n       else{\n         await this._getBusinessOrder(this.condition)\n         if(this.$store.state.userData.platform === 'channel'){\n           await this._getBusinessInChannel()\n         }\n       }\n       \n    },\n}\n",{"version":3,"sources":["BusiDataStatistic.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"BusiDataStatistic.vue","sourceRoot":"src/views/business","sourcesContent":["<template>\n    <div>\n        <div class=\"contain-head\">\n            <div class=\"head-pre\"></div>\n            <span class=\"head-title\">数据统计（商户）</span>\n        </div>\n        <template v-if=\"Object.keys(service).length\">\n        <div class=\"contain-middle\">\n            <div class=\"statistic-Color-Block\">\n                  <img src=\"../../assets/imgs/main/orange.jpg\" class=\"item-bkg\" alt=\"\">\n                  <span class=\"item-title\">{{service.all.title}}</span>\n                  <span class=\"item-value\">{{service.all.data.amount}} ({{service.all.data.company}})</span>\n            </div>\n            <div class=\"statistic-Color-Block\" >\n                  <img src=\"../../assets/imgs/main/red.jpg\" class=\"item-bkg\" alt=\"\">\n                  <span class=\"item-title\">{{service.lastMonth.title}}</span>\n                  <span class=\"item-value\">{{service.lastMonth.data.amount}} ({{service.lastMonth.data.company}})</span>\n            </div>\n            <div class=\"statistic-Color-Block\" >\n                  <img src=\"../../assets/imgs/main/purple.jpg\" class=\"item-bkg\" alt=\"\">\n                  <span class=\"item-title\">{{service.today.title}}</span>\n                  <span class=\"item-value\">{{service.today.data.amount}} ({{service.today.data.company}})</span>\n            </div>\n            <div class=\"statistic-Color-Block\" >\n                  <img src=\"../../assets/imgs/main/blue.jpg\" class=\"item-bkg\" alt=\"\">\n                  <span class=\"item-title\">{{service.yesterday.title}}</span>\n                  <span class=\"item-value\">{{service.yesterday.data.amount}} ({{service.yesterday.data.company}})</span>\n            </div>                                                    \n        </div>\n        </template>\n        <div class=\"contain-footer\">\n             <div class=\"contain-footer-top\">\n               <div class=\"contain-footer-topl\">\n                   <div  v-for=\"(item,index) in timeSlotArr\" :key=\"index\" @click=\"handleChooseTimeSlot(item.value)\"  :class=\"`date-option${item.value===condition.timeSlot?' choose':''}`\">\n                       <span>{{item.title}}</span>\n                   </div>\n                <template v-if=\"$store.state.userData.platform === 'channel'\">\n                  <el-select v-model=\"condition.id\" class=\"order-input\" @change=\"handleSelectSearchType\"  >\n                   <el-option  label=\"全部\" :value=\"0\"></el-option>\n                   <el-option v-for=\" business in businessList\" :key=\"business.id\" :label=\"business.name\" :value=\"business.id\"></el-option>\n                  </el-select>\n                 </template>                                                                            \n               </div>\n               <div class=\"contain-footer-topr\">\n                 <el-date-picker class=\"date-picker\"\n                   v-model=\"dateValue\"\n                   type=\"daterange\"\n                   range-separator=\"至\"\n                   start-placeholder=\"选择开始时间\"\n                   end-placeholder=\"选择结束时间\"\n                   @change=\"confirmSelectDate\">\n                 </el-date-picker>\n                 <el-input v-model=\"condition.keyword\" class=\"searchTool\">\n                       <i\n                        class=\"el-icon-search el-input__icon\"\n                        slot=\"suffix\"\n                        @click=\"handleConSearchClick\">\n                       </i>\n                 </el-input>\n                 <el-button class=\"dowload-Btn\" type=\"primary\">下载</el-button>\n               </div>\n            </div>\n            <div class=\"contain-footer-bottom\">\n                <el-table\n                    :data=\"orderList\"\n                    border\n                    style=\"width: 100%\">\n                    <el-table-column align=\"center\"\n                      prop=\"time\"\n                      label=\"时间\"\n                      min-width=\"160\">\n                    </el-table-column>  \n                    <el-table-column\n                      prop=\"orderNum\"\n                      label=\"订单号\"\n                      min-width=\"160\"\n                      align=\"center\">                      \n                    </el-table-column>\n                    <el-table-column\n                      prop=\"amount\"\n                      label=\"订单金额(CNY)\"\n                      min-width=\"120\"\n                      align=\"center\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"currency\"\n                      label=\"订单金额(USDT)\"\n                      align=\"center\"\n                      min-width=\"120\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"currencies\"\n                      label=\"实时汇率(USDT/CNY)\"\n                      align=\"center\"\n                      width=\"80\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"cost\"\n                      label=\"支出手续费(USDT)\"\n                      align=\"center\"\n                      width=\"100\">\n                    </el-table-column>                    \n                    <el-table-column\n                      prop=\"merchantCommission\"\n                      label=\"结算金额(usdt)\"\n                      align=\"center\"\n                      width=\"100\">\n                    </el-table-column>\n                    <!-- <el-table-column\n                      prop=\"account\"\n                      label=\"火币账号\"\n                      align=\"center\"\n                      width=\"150\">\n                    </el-table-column> -->\n                    <!-- <el-table-column\n                      prop=\"merchant\"\n                      label=\"商户名称\"\n                      align=\"center\"\n                      width=\"100\">\n                    </el-table-column>                                                                                                      -->\n                </el-table>\n             <el-pagination\n                class=\"pagination\"\n                background\n                layout=\"prev, pager, next\"\n                :page-size=\"15\"\n                :hide-on-single-page=\"orderList.length<15\"\n                :total=\"total\"\n                :current-page.sync=\"condition.page\"\n                @current-change=\"handleCurrentPage\">\n            </el-pagination>\n            <div style=\"clear:both;\"></div>\n            </div>\n        </div>                    \n    </div>\n</template>\n<script>\nimport IncomeTable from '../../components/IncomeTable.vue'\nexport default {\n    components:{\n        \"income-table\":IncomeTable\n     },\n    data() {\n        return {\n            service:{},\n            serviceArr:[\n                {\n                 title: \"实时结算金额\",\n                 USDT: \"1552.165\",\n                 bkg: require(\"../../assets/imgs/main/orange.jpg\")\n                },\n                {\n                 title: \"昨日结算额\",\n                 USDT: \"6564.98\",\n                 bkg: require(\"../../assets/imgs/main/blue.jpg\")\n                },\n                {\n                 title: \"月结算量\",\n                 USDT: \"767586.67\",\n                 bkg: require(\"../../assets/imgs/main/red.jpg\")\n                },\n                {\n                 title: \"总结算金额\",\n                 USDT: \"7697687.09\",\n                 bkg: require(\"../../assets/imgs/main/purple.jpg\")\n                },                                                                                                   \n            ], \n            timeSlotArr: [{title:\"今天\",value:1}, {title:\"昨天\",value:2}, {title:\"近一周\",value:3}, {title:\"近一月\",value:4}, {title:\"全部\",value:5}],\n            condition: {\n                id: null,\n                timeSlot: 1,\n                keyword:'',\n                startTime:'',\n                endTime:'',\n                page: null,\n            },\n            dateValue: '',\n            orderList: [],\n            businessList: [],\n            total:0,\n            tableData: [{\n                time: \"2017-09-19 12:23:12\",\n                orderNum: \"20190426115521567\",\n                cny: 50,\n                usdt: 50,\n                rate: \"1:1\",\n                zhichu: 20,\n                jiesuan: 30,\n                account: \"18200113696\",\n                businessName: \"公司A\"\n            }\n            ]\n        }\n    },\n    methods: {\n        /*\n        **搜索\n        */      \n        async handleConSearchClick(){\n          this.condition.id = 0\n          await this._getBusinessOrder(this.condition)\n        },\n        /*\n        **获取商户数据订单\n        */\n        async _getBusinessOrder(condition)\n        {\n            let _condition = condition\n            let resData = {}\n            if(this.$store.state.userData.platform === 'stark'){\n              resData = await this.http.post('/statistics/countMerchantOrder.api', _condition)\n            } else {\n              resData = await this.http.post('/statistics/merchantCountOrder.api', _condition)\n            }\n            if(resData.code === 200){\n                this.orderList = resData.data.data\n                this.total = resData.data.total\n            }\n        },\n        /*\n        **选择日期请求订单事件\n        */\n        async handleChooseTimeSlot(value){\n         if(Object.keys(this.$route.query).length){\n            let id = this.$route.query.id\n            this.condition.id = id\n          }\n          this.condition.timeSlot = value\n          await this._getBusinessOrder(this.condition)\n        },\n        /*\n        **处理改变页数事件\n        */\n        async handleCurrentPage(cur){\n           this.condition.page = cur\n           this._getBusinessOrder(this.condition)\n        },\n        /*\n        **处理下拉渠道选择商户\n        */\n        async handleSelectSearchType(value){\n          this.condition.id = value\n          this.condition.page = 1\n          await this._getBusinessOrder(this.condition)\n        },\n        /*\n        **获取渠道商下商户\n        */\n        async _getBusinessInChannel(){\n          let resData = await this.http.get('/statistics/searchChannelMerchantQuick')\n          if(resData.code === 200){\n            this.businessList = resData.data\n          }\n        },\n        /*\n        **确定选择时间\n        */        \n        async confirmSelectDate(date){\n          let _date = date\n          if(!_date){\n            this.condition.timeType = ''\n            delete this.condition.startTime\n            delete this.condition.endTime\n            this.condition.page = 1\n            this.orderList = []\n            this.total = 0          \n          } else if(_date.length){\n            this.condition.timeType = 2\n            this.condition.startTime = this.common.formatDate(_date[0])\n            this.condition.endTime = this.common.formatDate(_date[1])\n            this.condition.timeSlot = ''\n            this._getBusinessOrder(this.condition) \n          }\n        }        \n        \n    },\n    async mounted() {\n       if(Object.keys(this.$route.query).length){\n         let id = this.$route.query.id\n         this.condition.id = id\n       }\n       else{\n         await this._getBusinessOrder(this.condition)\n         if(this.$store.state.userData.platform === 'channel'){\n           await this._getBusinessInChannel()\n         }\n       }\n       \n    },\n}\n</script>\n<style lang=\"less\" scoped>\n.contain-middle{\n    display: flex;\n}\n.statistic-Color-Block{\n     display: flex;\n     justify-content: space-evenly;\n     width: 24.25%;\n     margin-right: 1%;\n     height: 18vh;\n     &:last-child{\n         margin-right: 0;\n     }\n      .item-title{\n     z-index: 8;\n     }\n      .item-value{\n     z-index: 8;          \n      }\n }\n .order-input{\n   margin-left: 20px;\n }\n</style>\n"]}]}