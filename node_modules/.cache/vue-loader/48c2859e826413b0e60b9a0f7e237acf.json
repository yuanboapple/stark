{"remainingRequest":"/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/222/src/components/IncomeTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/222/src/components/IncomeTable.vue","mtime":1561102879000},{"path":"/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    data() {\n        return {\n            dateValue:'',\n\n            timeSlotArr: [{title:\"今天\",value:1}, {title:\"昨天\",value:2}, {title:\"近一周\",value:3}, {title:\"近一月\",value:4}, {title:\"全部\",value:5}],\n            condition: {\n              timeSlot: 1,\n              page:0,\n              keyword: '',\n              startTime:'',\n              endTime:'',\n            },\n            total: 0,\n            orderList: [],               \n        }\n    },\n    methods: {\n        /*\n        **搜索\n        */      \n        async handleConSearchClick(){\n          await this._getStarkCountOrder(this.condition)\n        },\n        /*\n        **获取数据统计订单\n        */\n       async _getStarkCountOrder(condition){\n           let _condition = condition\n           let resData = {}\n           if(this.$store.state.userData.platform==='stark'){\n             resData = await this.http.post('/statistics/countOrder', _condition)\n           } else if(this.$store.state.userData.platform === 'acceptance'){\n             resData = await this.http.post('/statistics/channelCountOrder', _condition)\n           } else {\n             resData = await this.http.post('/statistics/merchantCountOrder', _condition)\n           }\n           if(resData.code === 200){\n               this.orderList = resData.data.data\n               this.total = resData.data.total\n           }\n       },\n        /*\n        **选择日期请求订单事件\n        */\n        async handleChooseTimeSlot(value){\n          this.condition.timeSlot = value\n          let resData = await this._getStarkCountOrder(this.condition)\n        },\n        /*\n        **处理改变页数事件\n        */\n        async handleCurrentPage(cur){\n           this.condition.page = cur\n           this._getStarkCountOrder(this.condition)\n        },\n        /*\n        **确定选择时间\n        */        \n        async confirmSelectDate(date){\n          let _date = date\n          if(_date.length){\n            this.condition.timeType = 2\n            this.condition.startTime = this.common.formatDate(_date[0])\n            this.condition.endTime = this.common.formatDate(_date[1])\n            this.condition.timeSlot = ''\n            this._getStarkCountOrder(this.condition) \n          } else {\n            this.condition.timeType = ''\n            delete this.condition.startTime\n            delete this.condition.endTime\n          }\n\n        }\n    },\n    async mounted() {\n      await this._getStarkCountOrder(this.condition)\n\n    },\n}\n",{"version":3,"sources":["IncomeTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"IncomeTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n             <div class=\"contain-footer-top\">\n                 <div class=\"contain-footer-topl\">\n                   <div  v-for=\"(item,index) in timeSlotArr\" :key=\"index\" @click=\"handleChooseTimeSlot(item.value)\"  :class=\"`date-option${item.value===condition.timeSlot?' choose':''}`\">\n                       <span>{{item.title}}</span>\n                   </div>                                                                          \n                 </div>                                                                        \n               <div class=\"contain-footer-topr\">\n                 <el-date-picker class=\"date-picker\"\n                   v-model=\"dateValue\"\n                   type=\"daterange\"\n                   range-separator=\"至\"\n                   start-placeholder=\"选择开始时间\"\n                   end-placeholder=\"选择结束时间\"\n                   @change=\"confirmSelectDate\">\n                 </el-date-picker>\n                 <el-input placeholder=\"请输入账号或承兑商名称\" v-model=\"condition.keyword\" class=\"searchTool\">\n                       <i\n                        class=\"el-icon-search el-input__icon\"\n                        slot=\"suffix\"\n                        @click=\"handleConSearchClick\">\n                       </i>\n                 </el-input>\n                 <el-button class=\"dowload-Btn\" size=\"samll\" type=\"primary\">下载</el-button>\n               </div>\n            </div>\n            <div class=\"contain-footer-bottom\">\n                <el-table\n                    :data=\"orderList\"\n                    border\n                    style=\"width: 100%\">\n                    <el-table-column align=\"center\"\n                      prop=\"time\"\n                      label=\"时间\"\n                      width=\"160\">\n                    </el-table-column>  \n                    <el-table-column\n                      prop=\"order_num\"\n                      label=\"订单号\"\n                      width=\"160\"\n                      align=\"center\">                      \n                    </el-table-column>\n                    <el-table-column\n                      prop=\"amount\"\n                      label=\"订单金额(CNY)\"\n                      min-width=\"160\"\n                      align=\"center\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"currencies\"\n                      label=\"订单金额(USDT)\"\n                      align=\"center\"\n                      min-width=\"170\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"currency\"\n                      label=\"实时汇率\"\n                      align=\"center\"\n                      min-width=\"120\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"type\"\n                      label=\"类型\"\n                      align=\"center\"\n                      width=\"180\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"cost\"\n                      label=\"手续费\"\n                      align=\"center\"\n                      min-width=\"180\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"account\"\n                      label=\"账号\"\n                      align=\"center\"\n                      min-width=\"180\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"acceptance\"\n                      label=\"承兑商名称\"\n                      align=\"center\"\n                      min-width=\"180\">\n                    </el-table-column>                                                                                                     \n                </el-table>\n            <div class=\"footerbottom-bottom\">\n            <div class=\"total-title\" v-show=\"total\">\n            总计&nbsp;<span class=\"total-count\">{{total}}&nbsp;</span>个订单  \n            </div>    \n            <el-pagination\n                class=\"pagination\"\n                background\n                layout=\"prev, pager, next\"\n                :hide-on-single-page=\"orderList.length<15\"\n                :page-size=\"15\"\n                :total=\"total\"\n                :current-page.sync=\"condition.page\"\n                @current-change=\"handleCurrentPage\">\n            </el-pagination>              \n            </div>    \n            </div>\n    </div>\n</template>\n<script>\nexport default {\n    data() {\n        return {\n            dateValue:'',\n\n            timeSlotArr: [{title:\"今天\",value:1}, {title:\"昨天\",value:2}, {title:\"近一周\",value:3}, {title:\"近一月\",value:4}, {title:\"全部\",value:5}],\n            condition: {\n              timeSlot: 1,\n              page:0,\n              keyword: '',\n              startTime:'',\n              endTime:'',\n            },\n            total: 0,\n            orderList: [],               \n        }\n    },\n    methods: {\n        /*\n        **搜索\n        */      \n        async handleConSearchClick(){\n          await this._getStarkCountOrder(this.condition)\n        },\n        /*\n        **获取数据统计订单\n        */\n       async _getStarkCountOrder(condition){\n           let _condition = condition\n           let resData = {}\n           if(this.$store.state.userData.platform==='stark'){\n             resData = await this.http.post('/statistics/countOrder', _condition)\n           } else if(this.$store.state.userData.platform === 'acceptance'){\n             resData = await this.http.post('/statistics/channelCountOrder', _condition)\n           } else {\n             resData = await this.http.post('/statistics/merchantCountOrder', _condition)\n           }\n           if(resData.code === 200){\n               this.orderList = resData.data.data\n               this.total = resData.data.total\n           }\n       },\n        /*\n        **选择日期请求订单事件\n        */\n        async handleChooseTimeSlot(value){\n          this.condition.timeSlot = value\n          let resData = await this._getStarkCountOrder(this.condition)\n        },\n        /*\n        **处理改变页数事件\n        */\n        async handleCurrentPage(cur){\n           this.condition.page = cur\n           this._getStarkCountOrder(this.condition)\n        },\n        /*\n        **确定选择时间\n        */        \n        async confirmSelectDate(date){\n          let _date = date\n          if(_date.length){\n            this.condition.timeType = 2\n            this.condition.startTime = this.common.formatDate(_date[0])\n            this.condition.endTime = this.common.formatDate(_date[1])\n            this.condition.timeSlot = ''\n            this._getStarkCountOrder(this.condition) \n          } else {\n            this.condition.timeType = ''\n            delete this.condition.startTime\n            delete this.condition.endTime\n          }\n\n        }\n    },\n    async mounted() {\n      await this._getStarkCountOrder(this.condition)\n\n    },\n}\n</script>\n<style lang=\"less\">\n\n\n</style>\n"]}]}