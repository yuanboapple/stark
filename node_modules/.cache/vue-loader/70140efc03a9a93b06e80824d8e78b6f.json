{"remainingRequest":"/Users/yuanbo/Desktop/与燕/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!/Users/yuanbo/Desktop/与燕/222/src/views/contractor/OrderManage.vue?vue&type=style&index=0&id=7b727bb3&lang=less&scoped=true&","dependencies":[{"path":"/Users/yuanbo/Desktop/与燕/222/src/views/contractor/OrderManage.vue","mtime":1560771968987},{"path":"/Users/yuanbo/Desktop/与燕/222/node_modules/_css-loader@1.0.1@css-loader/index.js","mtime":499162500000},{"path":"/Users/yuanbo/Desktop/与燕/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/yuanbo/Desktop/与燕/222/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/yuanbo/Desktop/与燕/222/node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js","mtime":1559616265886},{"path":"/Users/yuanbo/Desktop/与燕/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuanbo/Desktop/与燕/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.contain-footer{\n   \n    .state-input{\n        width: 10vw;\n        margin-right: 1.25rem;\n    }\n    .order-input{\n        width: 12vw;\n        margin-right: 1.25rem;\n    }\n    #table\n    {\n        width: 100%;\n        height: 45vh;\n        min-height: 0%\n    }\n}\n\n.info-wrap{\n    display: flex;\n    padding: 0 4.3333rem;\n    flex-direction: column;\n    justify-content: space-evenly;\n    width: auto;\n    border-top: 1px dashed #E6E6E6;\n    .info-wrap-title{\n        color: #333333;\n        font-weight:  bold;\n        font-size: 1.5rem;\n    }\n    .info-wrap-item{\n        font-size: 1.3333rem;\n        color: #333333;\n    }\n\n\n}\n#order-info{\n    height: 19.4167rem;\n}\n#tokenism-info{\n    height: 27.3333rem;\n    #tokenism-time{\n      font-size: 1.8333rem;\n      color: #333333;\n    }\n}\n#action-log{\n  height: 26.25rem;\n  .sub-item{\n    color: #999999;\n  }\n\n}\n#deal-dialog{\n  #deal-dialog-wrap{\n    padding: 1.6667rem 3.6667rem;\n    padding-bottom: 0; \n }\n .dialog-radio{\n   margin-bottom: 1.6667rem;\n\n   &:last-child\n   {\n     margin-bottom: 0;\n   }\n   .el-radio{\n      margin-right: 1.25rem;\n     font-size: 1.3333rem;\n     color: #333333;\n     font-weight: normal;\n   }\n }\n}\n\n\n",{"version":3,"sources":["OrderManage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4XA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OrderManage.vue","sourceRoot":"src/views/contractor","sourcesContent":["<template>\n    <div>\n        <div class=\"contain-head\">\n            <div class=\"head-pre\"></div>\n            <span class=\"head-title\">订单状态</span>\n        </div>\n        <div class=\"contain-footer\">\n             <div class=\"contain-footer-top\">\n               <div class=\"contain-footer-topl\">\n                   <div  v-for=\"(item,index) in timeSlotArr\" :key=\"index\" @click=\"handleChooseTimeSlot(item.value)\"  :class=\"`date-option${item.value===condition.timeSlot?' choose':''}`\">\n                       <span>{{item.title}}</span>\n                   </div>                                                                          \n               </div>\n               <div class=\"contain-footer-topr\">\n                  <el-select v-model=\"condition.type\" class=\"state-input\" @change=\"handleSelectType\"  placeholder=\"订单状态\">\n                   <el-option label=\"全部\" :value=\"1\"></el-option>\n                   <el-option label=\"未付款\" :value=\"2\"></el-option>\n                   <el-option label=\"待确认\" :value=\"3\"></el-option>\n                   <el-option label=\"已确认\" :value=\"4\"></el-option>\n                   <el-option label=\"已结算\" :value=\"7\"></el-option>\n                   <el-option label=\"异常\" :value=\"9\"></el-option>\n                 </el-select>\n                  <el-select v-model=\"condition.searchType\" class=\"order-input\" @change=\"handleSelectSearchType\"  placeholder=\"订单号\">\n                   <el-option label=\"订单号\" :value=\"1\"></el-option>\n                   <el-option label=\"承兑商名称\" :value=\"2\"></el-option>\n                   <el-option label=\"渠道商名称\" :value=\"3\"></el-option>\n                   <el-option label=\"商户名称\" :value=\"4\"></el-option>\n                 </el-select>                                   \n                 <el-input v-model=\"condition.keyword\" class=\"searchTool\">\n                       <i\n                        class=\"el-icon-search el-input__icon\"\n                        slot=\"suffix\"\n                        @click=\"handleSearchClick(condition.keyword)\">\n                       </i>\n                 </el-input>\n                 <el-button class=\"dowload-Btn\" type=\"primary\">导出</el-button>\n               </div>               \n             </div>\n            <div class=\"contain-footer-bottom\">\n                <el-table\n                    :data=\"orderList\"\n                    border\n                    style=\"width: 100%\">\n                    <el-table-column align=\"center\"\n                      prop=\"acceptance\"\n                      label=\"承兑商名称\"\n                      width=\"100\">\n                    </el-table-column>  \n                    <el-table-column\n                      prop=\"orderNum\"\n                      label=\"订单号\"\n                      min-width=\"100\"\n                      align=\"center\">                      \n                    </el-table-column>\n                    <el-table-column\n                      prop=\"user\"\n                      label=\"用户姓名\"\n                      width=\"120\"\n                      align=\"center\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"amount\"\n                      label=\"订单金额（CNY）\"\n                      align=\"center\"\n                      min-width=\"80\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"currency\"\n                      label=\"订单金额（USDT）\"\n                      align=\"center\"\n                      min-width=\"80\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"payTime\"\n                      label=\"支付时间\"\n                      align=\"center\"\n                      min-width=\"90\">\n                    </el-table-column>                                        \n                    <el-table-column\n                      label=\"订单状态\"\n                      prop=\"status\"\n                      align=\"center\"\n                      min-width=\"120\">\n                      <template slot-scope=\"scope\">\n                          <el-tag v-if=\"scope.row.status.code === 2\"  size=\"medium\" type=\"info\">\n                            {{scope.row.status.title}}\n                          </el-tag>\n                          <el-tag v-else-if=\"scope.row.status.code === 7\"  size=\"medium\" type=\"success\">\n                            {{scope.row.status.title}}\n                          </el-tag>\n                          <el-tag v-else-if=\"scope.row.status.code === 9\"  size=\"medium\" type=\"danger\">\n                            {{scope.row.status.title}}\n                          </el-tag>\n                          <el-tag v-else-if=\"scope.row.status === 4\"  size=\"medium\" type=\"warning\">\n                            {{scope.row.status.title}}\n                          </el-tag>\n                          <el-tag v-else  size=\"medium\">\n                            {{scope.row.status.title}}\n                          </el-tag>                                                                                                                                \n                      </template>\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"cost\"\n                      label=\"平台手续费（USDT）\"\n                      align=\"center\"\n                      min-width=\"100\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"acceptanceCommission\"\n                      label=\"承兑商佣金（USDT）\"\n                      align=\"center\"\n                      min-width=\"100\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"merchant\"\n                      label=\"商户名称\"\n                      align=\"center\"\n                      width=\"100\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"merchantCommission\"\n                      label=\"商户结算金额\"\n                      align=\"center\"\n                      min-width=\"80\">\n                    </el-table-column>\n                    <el-table-column\n                      label=\"操作\"\n                      align=\"center\"\n                      min-width=\"100\">\n                       <template slot-scope=\"scope\">\n                           <div v-if=\"scope.row.status.code == 9 || scope.row.status.code == 6\">\n                              <el-button  class=\"sys-text-Btn\" @click=\"detailDialogShow = true\"  type=\"text\" size=\"small\">查看</el-button>\n                              <el-button class=\"sys-text-Btn\" @click=\"dealDialogShow = true;condition.id = scope.row.id;\"  type=\"text\" size=\"small\">处理</el-button>\n                           </div>\n                           <div v-else>\n                               <el-button class=\"sys-text-Btn\" @click=\"detailDialogShow = true\"  type=\"text\" size=\"small\">查看</el-button>                               \n                           </div>\n\n\n                       </template>\n                    </el-table-column> \n                </el-table>\n            <el-pagination\n                class=\"pagination\"\n                background\n                layout=\"prev, pager, next\"\n                :page-size=\"per_page\"\n                :hide-on-single-page=\"!orderList.length\"\n                :total=\"total\"\n                :current-page.sync=\"current_page\"\n                @current-change=\"handleCurrentPage\"\n            >\n            </el-pagination>\n            <div style=\"clear:both;\"></div>\n            </div>               \n        </div>\n       <el-dialog class=\"dialog\" \n           id=\"order-dialog\"\n           title=\"订单详情\"\n           :visible.sync=\"detailDialogShow\"\n           width=\"50%\"\n           >\n           <el-steps :active=\"1\" class=\"order-detail-step\" align-center>\n              <el-step title=\"订单支付\" description=\"2019年05月05日16:03:30\"></el-step>\n              <el-step title=\"确认收款\" description=\"2019年05月05日16:03:30\"></el-step>\n              <el-step title=\"订单完成\" description=\"2019年05月05日16:03:30\"></el-step>\n           </el-steps>\n           <div id=\"order-info\" class=\"info-wrap\">\n               <span class=\"info-wrap-title\">订单信息</span>\n                   <el-row class=\"info-wrap-item\">\n                       <el-col :span=\"10\"><span>订单编号：13298470149</span></el-col>\n                       <el-col :span=\"8\" :offset=\"6\"><span>订单编号：13298470149</span></el-col>                        \n                   </el-row>\n                   <el-row class=\"info-wrap-item\">\n                       <el-col :span=\"10\"><span>支付账户：张三</span></el-col>\n                       <el-col :span=\"8\" :offset=\"6\"><span>支付时间：2018-02-18 18：00：00</span></el-col>                        \n                   </el-row>\n                   <el-row class=\"info-wrap-item\">\n                       <el-col :span=\"10\"><span>交易流水号：123449044334444</span></el-col>\n                       <el-col :span=\"8\" :offset=\"6\"><span>付款金额：3000元</span></el-col>                        \n                   </el-row>\n                   <el-row class=\"info-wrap-item\">\n                       <el-col :span=\"10\"><span>付款人姓名：张三</span></el-col>                     \n                   </el-row>                              \n           </div>\n           <div id=\"tokenism-info\" class=\"info-wrap\">\n               <span class=\"info-wrap-title\">分润信息</span>\n                   <el-row class=\"info-wrap-item\">\n                       <el-col :span=\"8\"><span>承兑商名称：承兑商A</span></el-col>\n                       <el-col :span=\"8\" ><span>承兑商账号：13986992234</span></el-col>\n                       <el-col :span=\"8\" ><span>佣金：20usdt</span></el-col>                           \n                   </el-row>\n                   <el-row class=\"info-wrap-item\">\n                       <el-col :span=\"8\"><span>承兑商名称：企业A</span></el-col>\n                       <el-col :span=\"8\" ><span>渠道商账号：13986992234</span></el-col>\n                       <el-col :span=\"8\" ><span>佣金：20usdt</span></el-col>                        \n                   </el-row>\n                   <el-row class=\"info-wrap-item\">\n                       <el-col :span=\"8\"><span>平台业务员A</span></el-col>\n                       <el-col :span=\"8\" ><span>账号：13986992234</span></el-col>\n                       <el-col :span=\"8\" ><span>佣金：10usdt</span></el-col>                        \n                   </el-row>\n                   <el-row class=\"info-wrap-item\">\n                       <el-col :span=\"8\"><span>平台业务员B</span></el-col>\n                       <el-col :span=\"8\" ><span>账号：13986992234</span></el-col>\n                       <el-col :span=\"8\" ><span>佣金：10usdt</span></el-col>                      \n                   </el-row>\n                   <el-row class=\"info-wrap-item\">\n                       <el-col :span=\"8\"><span>平台佣金：30usdt</span></el-col>                     \n                   </el-row>\n                   <el-row class=\"info-wrap-item\" id=\"tokenism-time\">\n                       <el-col :span=\"12\"><span>分润时间：2019-08-17 18：54：20</span></el-col>                     \n                   </el-row>                                                                     \n           </div>\n           <div id=\"action-log\" class=\"info-wrap\">\n               <span class=\"info-wrap-title\">操作记录</span>\n                   <el-row class=\"info-wrap-item\">\n                       <el-col :span=\"8\"><span>① 确认收款操作</span></el-col>                         \n                   </el-row>\n                   <el-row class=\"info-wrap-item sub-item\">\n                       <el-col :span=\"10\"><span>操作人：刘强</span></el-col>\n                       <el-col :span=\"8\" :offset=\"6\"><span>操作时间：2018/5/6 13:40</span></el-col>                        \n                   </el-row>\n                   <el-row class=\"info-wrap-item sub-item\">\n                       <el-col :span=\"10\"><span>操作备注：无</span></el-col>                     \n                   </el-row> \n                   <el-row class=\"info-wrap-item\">\n                       <el-col :span=\"8\"><span>② 分润确认操作</span></el-col>                         \n                   </el-row>\n                   <el-row class=\"info-wrap-item sub-item\">\n                       <el-col :span=\"10\"><span>操作人：王仁</span></el-col>\n                       <el-col :span=\"8\" :offset=\"6\"><span>操作时间：2018/5/6 13:40</span></el-col>                        \n                   </el-row>\n                   <el-row class=\"info-wrap-item sub-item\">\n                       <el-col :span=\"10\"><span>操作备注：无</span></el-col>                     \n                   </el-row>                                                                                                          \n           </div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n             <el-button class=\"sys-Btn\" type=\"primary\" @click=\"detailDialogShow = false\">确 定</el-button>\n           </span>                      \n        </el-dialog>\n       <el-dialog class=\"dialog\" \n           id=\"deal-dialog\"\n           title=\"处理\"\n           :visible.sync=\"dealDialogShow\"\n           width=\"30%\"\n           >\n           <div id=\"deal-dialog-wrap\">\n              <div class=\"dialog-radio\">\n                <el-radio v-model=\"state\"  label=\"1\">取消订单</el-radio>\n              </div>\n              <div class=\"dialog-radio\">\n                <el-radio v-model=\"state\" label=\"2\">重制订单状态</el-radio>\n              </div>\n              <div class=\"dialog-radio\">\n                <el-radio v-model=\"state\" label=\"3\">确认收款</el-radio>\n              </div>\n           </div>                                        \n            <span slot=\"footer\" class=\"dialog-footer\">\n             <el-button class=\"sys-Btn\" type=\"primary\" @click=\"confirmDeal(condition.id)\">确 定</el-button>\n           </span>                      \n        </el-dialog>\n    </div>\n</template>\n<script>\nexport default {\n    data() {\n        return {\n            detailDialogShow: false,\n            state:'',\n            dealDialogShow: false,\n            timeSlotArr: [{title:\"今天\",value:''}, {title:\"昨天\",value:1}, {title:\"近一周\",value:2}, {title:\"近一月\",value:3}, {title:\"全部\",value:4}],\n            condition: {\n              timeSlot: '',\n              searchType: 1,\n              type: \"\",\n              page: '',\n              keyword:'',\n              id:0\n            },\n            per_page:0,\n            total:0,\n            current_page:0,\n            orderList: [],\n        }\n    },\n    methods:{\n        /*\n        **获取订单列表\n        */\n        async _getOrderList(){\n         let resData =  await this.http.get(`${this.common.basePath}/order/orderLists.api`, this.condition)\n         this.orderList = resData.data\n         this.per_page = resData.per_page\n         this.total = resData.total\n         this.current_page = resData.current_page\n        },\n        /*\n        **处理改变页数事件\n        */\n        async handleCurrentPage(cur){\n           this.condition.page = cur\n           let resData = await this.http.get(`${this.common.basePath}/order/orderLists.api`, this.condition)\n          //  this.responseData = resData\n           this.orderList = resData.data\n           console.log(resData)\n        },\n        /*\n        **选择日期请求订单事件\n        */\n        async handleChooseTimeSlot(value){\n          this.condition.timeSlot = value\n          this.condition.page = 1\n          await this._getOrderListByConditon(this.condition)\n        },\n        /*\n        **处理下拉订单状态事件\n        */\n        async handleSelectType(value){\n          this.condition.type = value\n          this.condition.page = 1\n          await this._getOrderListByConditon(this.condition)\n        },\n        /*\n        **处理下拉渠道名称事件\n        */\n        async handleSelectSearchType(value){\n          this.condition.searchType = value\n          this.condition.page = 1\n          await this._getOrderListByConditon(this.condition)\n        },\n        /*\n        **处理搜索点击事件\n        */\n        async handleSearchClick(value){\n          this.condition.keyword = value\n          await this._getOrderListByConditon(this.condition)\n          this.condition.page = 1\n        },\n        /*\n        **根据条件请求订单列表\n        */\n       async _getOrderListByConditon(conditon){\n          const _conditon = conditon\n          let resData = await this.http.get(`${this.common.basePath}/order/orderLists.api`, _conditon)\n          this.orderList = resData.data\n          this.per_page = resData.per_page\n          this.total = resData.total\n          this.current_page = 1\n       },\n       /*\n       **确定处理\n       */\n       async confirmDeal(id){\n         let _id = id\n        let resData = await this.http.get('/order/handlingExceptionalOrders', {id: _id,action: this.state})\n        if(resData.code === 200){\n          this.$message.success(resData.msg)\n          this.dealDialogShow = false\n          \n        }\n         \n       }\n       \n\n    },\n    async mounted() {\n      let query = this.$route.query\n      if(Object.keys(query).length){\n        for (const key in query) {\n          if (this.condition.hasOwnProperty(key)) {\n            this.condition[key] = query[key]\n          }\n        }\n      }\n      await this._getOrderList(this.condition)\n    },\n}\n</script>\n<style lang=\"less\" scoped>\n.contain-footer{\n   \n    .state-input{\n        width: 10vw;\n        margin-right: 1.25rem;\n    }\n    .order-input{\n        width: 12vw;\n        margin-right: 1.25rem;\n    }\n    #table\n    {\n        width: 100%;\n        height: 45vh;\n        min-height: 0%\n    }\n}\n\n.info-wrap{\n    display: flex;\n    padding: 0 4.3333rem;\n    flex-direction: column;\n    justify-content: space-evenly;\n    width: auto;\n    border-top: 1px dashed #E6E6E6;\n    .info-wrap-title{\n        color: #333333;\n        font-weight:  bold;\n        font-size: 1.5rem;\n    }\n    .info-wrap-item{\n        font-size: 1.3333rem;\n        color: #333333;\n    }\n\n\n}\n#order-info{\n    height: 19.4167rem;\n}\n#tokenism-info{\n    height: 27.3333rem;\n    #tokenism-time{\n      font-size: 1.8333rem;\n      color: #333333;\n    }\n}\n#action-log{\n  height: 26.25rem;\n  .sub-item{\n    color: #999999;\n  }\n\n}\n#deal-dialog{\n  #deal-dialog-wrap{\n    padding: 1.6667rem 3.6667rem;\n    padding-bottom: 0; \n }\n .dialog-radio{\n   margin-bottom: 1.6667rem;\n\n   &:last-child\n   {\n     margin-bottom: 0;\n   }\n   .el-radio{\n      margin-right: 1.25rem;\n     font-size: 1.3333rem;\n     color: #333333;\n     font-weight: normal;\n   }\n }\n}\n\n\n</style>\n"]}]}