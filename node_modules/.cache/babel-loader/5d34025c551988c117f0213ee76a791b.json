{"remainingRequest":"/Users/mac/Desktop/222/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/222/src/views/settings/components/UserManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/222/src/views/settings/components/UserManage.vue","mtime":1561101055000},{"path":"/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/mac/Desktop/222/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Promise } from 'q';\nexport default {\n  data: function data() {\n    return {\n      addUserDialog: false,\n      isEdit: false,\n      addform: {\n        name: '',\n        telephone: '',\n        role: '',\n        password: '',\n        password2: ''\n      },\n      defaultProps: {\n        children: 'children',\n        label: 'label'\n      },\n      id: 0,\n      roleList: [],\n      userList: [],\n      tree: [{\n        label: \"STARK公司\",\n        children: [{\n          label: \"运营\",\n          children: [{\n            label: \"墨鱼\"\n          }]\n        }]\n      }],\n      condition: {\n        keyword: ''\n      }\n    };\n  },\n  methods: {\n    handleNodeClick: function handleNodeClick(data) {\n      console.log(data);\n    },\n    handleSearchClick: function handleSearchClick() {},\n\n    /*\n    **获取管理员列表\n    */\n    _getUserList: function () {\n      var _getUserList2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(condition) {\n        var _condition, resData;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _condition = condition;\n                _context.next = 3;\n                return this.http.get('/platformUser/lists', _condition);\n\n              case 3:\n                resData = _context.sent;\n\n                if (resData.code === 200) {\n                  this.userList = resData.data;\n                }\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _getUserList(_x) {\n        return _getUserList2.apply(this, arguments);\n      }\n\n      return _getUserList;\n    }(),\n\n    /*\n    **获取角色列表\n    */\n    _getRoleList: function () {\n      var _getRoleList2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var resData;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.http.get('/platformUser/searchRole');\n\n              case 2:\n                resData = _context2.sent;\n\n                if (resData.code === 200) {\n                  this.roleList = resData.data;\n                }\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function _getRoleList() {\n        return _getRoleList2.apply(this, arguments);\n      }\n\n      return _getRoleList;\n    }(),\n\n    /*\n    **点击新增用户\n    */\n    handleClickAddUser: function () {\n      var _handleClickAddUser = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this._getRoleList();\n\n              case 2:\n                this.addUserDialog = true;\n\n              case 3:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function handleClickAddUser() {\n        return _handleClickAddUser.apply(this, arguments);\n      }\n\n      return handleClickAddUser;\n    }(),\n\n    /*\n    **新增用户\n    */\n    addUser: function () {\n      var _addUser = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        var data, resData;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                data = {\n                  username: this.addform.name,\n                  tel: this.addform.telephone,\n                  roleId: this.addform.role,\n                  password: this.addform.password,\n                  repassword: this.addform.password2\n                };\n                _context4.next = 3;\n                return this.http.post('/platformUser/createNewUser', data);\n\n              case 3:\n                resData = _context4.sent;\n\n                if (!(resData.code === 200)) {\n                  _context4.next = 9;\n                  break;\n                }\n\n                this.$message.success(resData.msg);\n                _context4.next = 8;\n                return this._getUserList(this.condition);\n\n              case 8:\n                this.addUserDialog = false;\n\n              case 9:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function addUser() {\n        return _addUser.apply(this, arguments);\n      }\n\n      return addUser;\n    }(),\n\n    /*\n    **编辑用户\n    */\n    editUser: function () {\n      var _editUser = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee5(index) {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return this._getRoleList();\n\n              case 2:\n                this.isEdit = true;\n                this.id = this.userList[index].id;\n                this.addform.name = this.userList[index].username;\n                this.addform.telephone = this.userList[index].tel;\n                this.addform.role = this.userList[index].roleId;\n                this.addUserDialog = true;\n\n              case 8:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function editUser(_x2) {\n        return _editUser.apply(this, arguments);\n      }\n\n      return editUser;\n    }(),\n\n    /*\n    **确定修改用户\n    */\n    confirmEditUser: function () {\n      var _confirmEditUser = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee6() {\n        var data, resData;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                data = {\n                  id: this.id,\n                  tel: this.addform.telephone,\n                  roleId: this.addform.role,\n                  password: this.addform.password,\n                  repassword: this.addform.password2\n                };\n                _context6.next = 3;\n                return this.http.post('/platformUser/updateUser.api', data);\n\n              case 3:\n                resData = _context6.sent;\n\n                if (!(resData.code === 200)) {\n                  _context6.next = 9;\n                  break;\n                }\n\n                this.$message.success(resData.msg);\n                _context6.next = 8;\n                return this._getUserList(this.condition);\n\n              case 8:\n                this.addUserDialog = false;\n\n              case 9:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function confirmEditUser() {\n        return _confirmEditUser.apply(this, arguments);\n      }\n\n      return confirmEditUser;\n    }(),\n\n    /*\n    **新增用户模态框关闭\n    */\n    addUserDialogClose: function addUserDialogClose() {\n      this.addform = {\n        name: '',\n        telephone: '',\n        role: '',\n        password: '',\n        password2: ''\n      }, this.$refs.addform.resetFields();\n    },\n\n    /*\n    **冻结用户\n    */\n    frozenUser: function () {\n      var _frozenUser = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee7(id) {\n        var _id, resData;\n\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _id = id;\n                _context7.next = 3;\n                return this.http.get('/platformUser/frozenUser.api', {\n                  id: _id\n                });\n\n              case 3:\n                resData = _context7.sent;\n\n                if (!(resData.code === 200)) {\n                  _context7.next = 9;\n                  break;\n                }\n\n                this.$message.success(resData.msg);\n                this.condition.keyword = '';\n                _context7.next = 9;\n                return this._getUserList(this.condition);\n\n              case 9:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function frozenUser(_x3) {\n        return _frozenUser.apply(this, arguments);\n      }\n\n      return frozenUser;\n    }(),\n\n    /*\n    **启用用户\n    */\n    enAbleUser: function () {\n      var _enAbleUser = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee8(id) {\n        var _id, resData;\n\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _id = id;\n                _context8.next = 3;\n                return this.http.get('/platformUser/enableUser.api', {\n                  id: _id\n                });\n\n              case 3:\n                resData = _context8.sent;\n\n                if (!(resData.code === 200)) {\n                  _context8.next = 9;\n                  break;\n                }\n\n                this.$message.success(resData.msg);\n                this.condition.keyword = '';\n                _context8.next = 9;\n                return this._getUserList(this.condition);\n\n              case 9:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function enAbleUser(_x4) {\n        return _enAbleUser.apply(this, arguments);\n      }\n\n      return enAbleUser;\n    }()\n  },\n  mounted: function () {\n    var _mounted = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee9() {\n      return regeneratorRuntime.wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              _context9.next = 2;\n              return this._getUserList(this.condition);\n\n            case 2:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9, this);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};",{"version":3,"sources":["UserManage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n                   <div class=\"contain-footer-top\">\n                    <div class=\"contain-footer-topl\">                    \n                      <el-button class=\"sys-Btn\" @click=\"handleClickAddUser\"  type=\"primary\">新增用户</el-button>\n                      <el-button class=\"sys-Btn\" type=\"primary\">批量导入</el-button>\n                    </div>\n                    <div class=\"contain-footer-topr\">  \n                      <el-input v-model=\"condition.keyword\" class=\"searchTool\" placeholder=\"请输入用户名称或手机号\">\n                            <i\n                             class=\"el-icon-search el-input__icon\"\n                             slot=\"suffix\"\n                             @click=\"handleSearchClick\">\n                            </i>\n                      </el-input>                                          \n                    </div>                        \n                  </div>\n                  <div class=\"contain-footer-bottom\">\n                      <el-row :gutter=\"10\">\n                          <el-col :span=\"24\">\n                                <el-table\n                                  :data=\"userList\"\n                                  size=\"medium\"\n                                  :fit=\"true\"\n                                  border\n                                  style=\"width: 100%\">\n                                  <el-table-column\n                                    align=\"center\"\n                                    prop=\"username\"\n                                    label=\"姓名\"\n                                    width=\"180\">\n                                  </el-table-column>\n                                  <!-- <el-table-column\n                                    align=\"center\"\n                                    prop=\"department\"\n                                    label=\"部门\"\n                                    width=\"180\">\n                                  </el-table-column> -->\n                                  <el-table-column\n                                    align=\"center\"\n                                    prop=\"tel\"\n                                    label=\"手机号\">\n                                  </el-table-column>\n                                  <el-table-column\n                                    align=\"center\"\n                                    prop=\"role\"\n                                    label=\"角色\">\n                                  </el-table-column>\n                                  <el-table-column\n                                    align=\"center\"\n                                    prop=\"status\"\n                                    label=\"状态\">\n                                    <template slot-scope=\"scope\">\n                                      {{scope.row.status?'正常':'禁用'}}\n                                    </template>\n                                  </el-table-column>\n                                  <el-table-column\n                                    align=\"center\"\n                                    label=\"操作\"\n                                    width=\"180\">\n                                      <template slot-scope=\"scope\">\n                                        <el-button class=\"sys-text-Btn\"  type=\"text\" @click=\"editUser(scope.$index)\" size=\"small\">编辑</el-button>\n                                        <el-button v-if=\"scope.row.status\" class=\"sys-text-Btn\" type=\"text\" @click=\"frozenUser(scope.row.id)\" size=\"small\">禁用</el-button>\n                                        <el-button v-else class=\"sys-text-Btn\" type=\"text\" @click=\"enAbleUser(scope.row.id)\"  size=\"small\">启用</el-button>\n                                        <el-button class=\"sys-text-Btn\" type=\"text\" size=\"small\">删除</el-button>\n                                      </template>                                    \n                                  </el-table-column>                                                                                                       \n                                </el-table>\n                          </el-col>\n                      </el-row>\n                  </div>  \n      <el-dialog class=\"dialog\" \n           :title=\"isEdit?'修改用户':'新增用户'\"\n           :visible.sync=\"addUserDialog\"\n           width=\"23%\"\n           @close=\"addUserDialogClose\"\n           >\n             <el-form :model=\"addform\"  ref=\"addform\" label-width=\"auto\" size=\"medium\" label-position=\"right\" class=\"demo-ruleForm\">\n               <el-form-item label=\"姓名\"  prop=\"name\">\n                 <el-input   v-model=\"addform.name\"></el-input>\n               </el-form-item>\n               <el-form-item label=\"手机号\" prop=\"telephone\">\n                 <el-input v-model=\"addform.telephone\"></el-input>  \n               </el-form-item>\n                <el-form-item label=\"所有角色\" prop=\"role\">\n                    <el-select v-model=\"addform.role\" placeholder=\"请选择角色\">\n                      <el-option v-for=\"role in roleList\" :key=\"role.id\" :label=\"role.roleName\" :value=\"role.id\"></el-option>\n                    </el-select>\n                </el-form-item>\n                <template >\n                   <el-form-item label=\"密码\" prop=\"password\">\n                    <el-input v-model=\"addform.password\"></el-input>  \n                   </el-form-item>\n                   <el-form-item label=\"确认密码\" prop=\"password2\">\n                    <el-input v-model=\"addform.password2\"></el-input>  \n                   </el-form-item>  \n                </template>\n              \n             </el-form>\n           <span slot=\"footer\" class=\"dialog-footer\">\n             <el-button v-if=\"!isEdit\"  class=\"sys-Btn\" type=\"primary\" @click=\"addUser\">确 定</el-button>\n             <el-button v-else  class=\"sys-Btn\" type=\"primary\" @click=\"confirmEditUser\">确 定</el-button>                  \n             <el-button @click=\"addUserDialog = false\">取 消</el-button>\n           </span>\n        </el-dialog>                     \n  </div>\n</template>\n<script>\nimport { Promise } from 'q';\nexport default {\n  data() {\n    return {\n            addUserDialog: false,\n            isEdit: false,\n            addform: {\n              name: '',\n              telephone: '',\n              role: '',\n              password: '',\n              password2: ''\n            },\n             defaultProps: {\n             children: 'children',\n             label: 'label'\n            },\n            id: 0,\n            roleList: [],\n            userList: [],\n            tree:[{\n                label: \"STARK公司\",\n                children: [{\n                    label: \"运营\",\n                    children: [{\n                        label: \"墨鱼\"\n                    }]\n                }]\n            }],\n            condition:{\n              keyword: ''\n            },            \n    }\n  },\n  methods: {\n      handleNodeClick(data){\n       console.log(data);\n      },\n      handleSearchClick(){\n\n      },\n      /*\n      **获取管理员列表\n      */\n      async _getUserList(condition){\n        let _condition = condition\n        let resData = await this.http.get('/platformUser/lists',_condition)\n        if(resData.code === 200){\n          this.userList = resData.data\n        }\n      },\n      /*\n      **获取角色列表\n      */\n      async _getRoleList(){\n        let resData = await this.http.get('/platformUser/searchRole')\n        if(resData.code === 200){\n          this.roleList = resData.data\n        }\n      },\n      /*\n      **点击新增用户\n      */\n      async handleClickAddUser(){\n        await this._getRoleList()\n        this.addUserDialog = true\n      },\n      /*\n      **新增用户\n      */\n     async addUser(){\n      let data = {\n        username: this.addform.name,\n        tel: this.addform.telephone,\n        roleId: this.addform.role,\n        password: this.addform.password,\n        repassword: this.addform.password2\n      }\n      let resData = await this.http.post('/platformUser/createNewUser', data)\n      if(resData.code === 200){\n        this.$message.success(resData.msg)\n        await this._getUserList(this.condition)\n        this.addUserDialog = false\n      }\n     },\n     /*\n     **编辑用户\n     */\n    async editUser(index){\n      await this._getRoleList()\n      this.isEdit = true\n      this.id = this.userList[index].id\n      this.addform.name = this.userList[index].username\n      this.addform.telephone = this.userList[index].tel\n      this.addform.role  = this.userList[index].roleId\n      this.addUserDialog = true\n      \n    },\n    /*\n    **确定修改用户\n    */\n   async confirmEditUser(){\n       let data = {\n         id: this.id,\n         tel: this.addform.telephone,\n         roleId: this.addform.role,\n         password: this.addform.password,\n         repassword: this.addform.password2,\n       }\n       let resData = await this.http.post('/platformUser/updateUser.api', data)\n       if(resData.code === 200){\n         this.$message.success(resData.msg)\n         await this._getUserList(this.condition)\n         this.addUserDialog = false\n       } \n   },\n     /*\n     **新增用户模态框关闭\n     */\n     addUserDialogClose(){\n       this.addform = {\n              name: '',\n              telephone: '',\n              role: '',\n              password: '',\n              password2: ''\n            },\n       this.$refs.addform.resetFields()\n     },\n     /*\n     **冻结用户\n     */\n    async frozenUser(id){\n      let _id = id\n      let resData = await this.http.get('/platformUser/frozenUser.api', {id: _id})\n      if(resData.code === 200){\n        this.$message.success(resData.msg)\n        this.condition.keyword = ''\n        await this._getUserList(this.condition)\n      }\n    },\n     /*\n     **启用用户\n     */\n    async enAbleUser(id){\n      let _id = id\n      let resData = await this.http.get('/platformUser/enableUser.api', {id: _id})\n      if(resData.code === 200){\n        this.$message.success(resData.msg)\n        this.condition.keyword = ''\n        await this._getUserList(this.condition)\n      }\n    }\n  },\n  async mounted() {\n    await this._getUserList(this.condition)\n  },\n  \n}\n</script>\n<style lang=\"less\" scoped>\n.contain-footer-topr{\n    .searchTool{\n        margin-right: 0;\n    }\n}\n.contain-footer-bottom{\n    #organiztion-struct{\n        min-height: 45vh;\n        border: 1px solid #E6E6E6;\n        #organiztion-struct-top{\n            height: 4vh;\n            line-height: 4vh;\n            border-bottom: 1px solid #E6E6E6;\n            #organiztion-struct-title{\n                margin-left: 0.6vw;\n                font-size: .875rem;\n                color: #333333;\n            }\n        }\n        #organiztion-struct-tree{\n            margin-top: 1.5vh;\n            font-size: .875rem;\n            \n            .el-tree{\n                color: #333333;\n            }\n        }\n    }\n .contain-footer-bottom-l{\n     height: 7.5rem;\n\n }\n .contain-footer-bottom-r{\n     height: 7.5rem;\n }\n}\n</style>\n\n\n"],"sourceRoot":"src/views/settings/components"}]}