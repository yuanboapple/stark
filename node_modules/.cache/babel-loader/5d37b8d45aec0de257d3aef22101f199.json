{"remainingRequest":"/Users/mac/Desktop/222/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/222/src/views/business/CommiDataStatistic.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/222/src/views/business/CommiDataStatistic.vue","mtime":1561112600000},{"path":"/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/mac/Desktop/222/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport IncomeTable from \"../../components/IncomeTable.vue\";\nexport default {\n  components: {\n    \"income-table\": IncomeTable\n  },\n  data: function data() {\n    return {\n      service: {},\n      timeSlotArr: [{\n        title: \"今天\",\n        value: 1\n      }, {\n        title: \"昨天\",\n        value: 2\n      }, {\n        title: \"近一周\",\n        value: 3\n      }, {\n        title: \"近一月\",\n        value: 4\n      }, {\n        title: \"全部\",\n        value: 5\n      }],\n      dateValue: '',\n      orderList: [],\n      condition: {\n        id: 0,\n        timeSlot: 1,\n        keyword: '',\n        page: null\n      },\n      // businessList: [],\n      total: null,\n      tableData: [{\n        time: \"2017-09-19 12:23:12\",\n        orderNum: \"20190426115521567\",\n        cny: 50,\n        usdt: 50,\n        rate: \"1:1\",\n        zhichu: 20,\n        jiesuan: 30,\n        account: \"18200113696\",\n        businessName: \"公司A\"\n      }]\n    };\n  },\n  methods: {\n    handleIconClick: function handleIconClick() {},\n    _getChannelDataStatistic: function () {\n      var _getChannelDataStatistic2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(id) {\n        var _id, resData;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _id = id;\n                _context.next = 3;\n                return this.http.get('statistics/countStarkChannel.api', {\n                  id: _id\n                });\n\n              case 3:\n                resData = _context.sent;\n\n                if (resData.code === 200) {\n                  this.service = resData.data;\n                }\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _getChannelDataStatistic(_x) {\n        return _getChannelDataStatistic2.apply(this, arguments);\n      }\n\n      return _getChannelDataStatistic;\n    }(),\n\n    /*\n    **获取渠道数据订单\n    */\n    _getChannelDataOrder: function () {\n      var _getChannelDataOrder2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(condition) {\n        var _condition, resData;\n\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _condition = condition;\n                resData = {};\n\n                if (!(this.$store.state.userData.platform === 'stark')) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                _context2.next = 5;\n                return this.http.post('/statistics/countChannelOrder.api', _condition);\n\n              case 5:\n                resData = _context2.sent;\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.next = 10;\n                return this.http.post('/statistics/channelCountOrder.api', _condition);\n\n              case 10:\n                resData = _context2.sent;\n\n              case 11:\n                if (resData.code === 200) {\n                  this.orderList = resData.data.data;\n                  this.total = resData.data.total;\n                }\n\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function _getChannelDataOrder(_x2) {\n        return _getChannelDataOrder2.apply(this, arguments);\n      }\n\n      return _getChannelDataOrder;\n    }(),\n\n    /*\n    **搜索\n    */\n    handleConSearchClick: function () {\n      var _handleConSearchClick = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.condition.id = 0;\n                this.condition.timeSlot = 0;\n                _context3.next = 4;\n                return this._getChannelDataOrder(this.condition);\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function handleConSearchClick() {\n        return _handleConSearchClick.apply(this, arguments);\n      }\n\n      return handleConSearchClick;\n    }(),\n\n    /*\n    **选择日期请求订单事件\n    */\n    handleChooseTimeSlot: function () {\n      var _handleChooseTimeSlot = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4(value) {\n        var id;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (Object.keys(this.$route.query).length) {\n                  id = this.$route.query.id;\n                  this.condition.id = id;\n                }\n\n                this.condition.timeSlot = value;\n                _context4.next = 4;\n                return this._getChannelDataOrder(this.condition);\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function handleChooseTimeSlot(_x3) {\n        return _handleChooseTimeSlot.apply(this, arguments);\n      }\n\n      return handleChooseTimeSlot;\n    }(),\n\n    /*\n    **处理改变页数事件\n    */\n    handleCurrentPage: function () {\n      var _handleCurrentPage = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee5(cur) {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                this.condition.id = this.$route.query.id;\n                this.condition.page = cur;\n\n                this._getChannelDataOrder(this.condition);\n\n              case 3:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function handleCurrentPage(_x4) {\n        return _handleCurrentPage.apply(this, arguments);\n      }\n\n      return handleCurrentPage;\n    }(),\n\n    /*\n    **确定选择时间\n    */\n    confirmSelectDate: function () {\n      var _confirmSelectDate = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee6(date) {\n        var _date;\n\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _date = date;\n                this.condition.id = this.$route.query.id;\n\n                if (!_date) {\n                  this.condition.timeType = '';\n                  delete this.condition.startTime;\n                  delete this.condition.endTime;\n                  this.condition.page = 1;\n                  this.orderList = [];\n                  this.total = 0;\n                } else if (_date.length) {\n                  this.condition.timeType = 2;\n                  this.condition.startTime = this.common.formatDate(_date[0]);\n                  this.condition.endTime = this.common.formatDate(_date[1]);\n                  this.condition.timeSlot = '';\n\n                  this._getChannelDataOrder(this.condition);\n                }\n\n              case 3:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function confirmSelectDate(_x5) {\n        return _confirmSelectDate.apply(this, arguments);\n      }\n\n      return confirmSelectDate;\n    }(),\n    // /*\n    // **处理下拉渠道选择商户\n    // */\n    // async handleSelectSearchType(value){\n    //   this.condition.id = value\n    //   this.condition.page = 1\n    //   await this._getChannelDataOrder(this.condition)\n    // },\n\n    /*\n    **获取渠道商下商户\n    */\n    _getBusinessInChannel: function () {\n      var _getBusinessInChannel2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee7() {\n        var resData;\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return this.http.get('/statistics/searchChannelMerchantQuick');\n\n              case 2:\n                resData = _context7.sent;\n\n                if (resData.code === 200) {\n                  this.businessList = resData.data;\n                }\n\n              case 4:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function _getBusinessInChannel() {\n        return _getBusinessInChannel2.apply(this, arguments);\n      }\n\n      return _getBusinessInChannel;\n    }(),\n\n    /*\n    **查看旗下商户统计\n    */\n    hadleViewBusinessStatic: function hadleViewBusinessStatic() {\n      this.$router.push({\n        name: 'busiInBusiStatistic'\n      });\n    }\n  },\n  mounted: function () {\n    var _mounted = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee8() {\n      var id;\n      return regeneratorRuntime.wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              if (!Object.keys(this.$route.query).length) {\n                _context8.next = 7;\n                break;\n              }\n\n              id = this.$route.query.id;\n              this.condition.id = id;\n              _context8.next = 5;\n              return this._getChannelDataStatistic(id);\n\n            case 5:\n              _context8.next = 11;\n              break;\n\n            case 7:\n              _context8.next = 9;\n              return this._getChannelDataOrder(this.condition);\n\n            case 9:\n              _context8.next = 11;\n              return this._getBusinessInChannel();\n\n            case 11:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8, this);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};",{"version":3,"sources":["CommiDataStatistic.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <div class=\"contain-head\">\n            <div class=\"head-pre\"></div>\n            <span class=\"head-title\">数据统计（渠道商）</span>\n        </div>\n        <div class=\"contain-middle\" v-if=\"Object.keys(service).length\">\n            <div class=\"statistic-Color-Block\">\n                  <img src=\"../../assets/imgs/main/orange.jpg\" class=\"item-bkg\" alt=\"\">\n                  <span class=\"item-title\">{{service.all.title}}</span>\n                  <span class=\"item-value\">{{service.all.data.amount}} ({{service.all.data.company}})</span>\n            </div> \n            <div class=\"statistic-Color-Block\">\n                  <img src=\"../../assets/imgs/main/blue.jpg\" class=\"item-bkg\" alt=\"\">\n                  <span class=\"item-title\">{{service.month.title}}</span>\n                  <span class=\"item-value\">{{service.month.data.amount}} ({{service.month.data.company}})</span>\n            </div>\n            <div class=\"statistic-Color-Block\">\n                  <img src=\"../../assets/imgs/main/red.jpg\" class=\"item-bkg\" alt=\"\">\n                  <span class=\"item-title\">{{service.today.title}}</span>\n                  <span class=\"item-value\">{{service.today.data.amount}} ({{service.today.data.company}})</span>\n            </div> \n            <div class=\"statistic-Color-Block\">\n                  <img src=\"../../assets/imgs/main/purple.jpg\" class=\"item-bkg\" alt=\"\">\n                  <span class=\"item-title\">{{service.yesterday.title}}</span>\n                  <span class=\"item-value\">{{service.yesterday.data.amount}} ({{service.yesterday.data.company}})</span>\n            </div>                                                    \n        </div>\n        <div class=\"contain-footer\">\n             <div class=\"contain-footer-top\">\n               <div class=\"contain-footer-topl\">\n                   <div  v-for=\"(item,index) in timeSlotArr\" :key=\"index\" @click=\"handleChooseTimeSlot(item.value)\"  :class=\"`date-option${item.value===condition.timeSlot?' choose':''}`\">\n                       <span>{{item.title}}</span>\n                   </div>\n                   <el-button class=\"sys-Btn\" @click=\"hadleViewBusinessStatic\" id=\"viewBusinessStatic\">查看旗下商户统计</el-button> \n                 <!-- <template v-if=\"$store.state.userData.platform === 'channel'\">\n                  <el-select v-model=\"condition.id\" class=\"order-input\" @change=\"handleSelectSearchType\"  >\n                   <el-option  label=\"全部\" :value=\"0\"></el-option>\n                   <el-option v-for=\" business in businessList\" :key=\"business.id\" :label=\"business.name\" :value=\"business.id\"></el-option>\n                  </el-select>\n                 </template>                                                                                              -->\n               </div>\n               <div class=\"contain-footer-topr\">\n                 <el-date-picker class=\"date-picker\"\n                   v-model=\"dateValue\"\n                   type=\"daterange\"\n                   range-separator=\"至\"\n                   start-placeholder=\"选择开始时间\"\n                   end-placeholder=\"选择结束时间\"\n                   @change=\"confirmSelectDate\">\n                 </el-date-picker>\n                 <el-input v-if=\"this.$store.state.userData.platform === 'stark'\" v-model=\"condition.keyword\" class=\"searchTool\">\n                       <i\n                        class=\"el-icon-search el-input__icon\"\n                        slot=\"suffix\"\n                        @click=\"handleConSearchClick\">\n                       </i>\n                 </el-input>\n                 <el-button class=\"dowload-Btn\" type=\"primary\">下载</el-button>\n               </div>\n            </div>            \n            <div class=\"contain-footer-bottom\">                             \n                <el-table\n                    :data=\"orderList\"\n                    border\n                    style=\"width: 100%\">\n                    <el-table-column align=\"center\"\n                      prop=\"time\"\n                      label=\"时间\"\n                      min-width=\"160\">\n                    </el-table-column>  \n                    <el-table-column\n                      prop=\"order_num\"\n                      label=\"订单号\"\n                      min-width=\"160\"\n                      align=\"center\">                      \n                    </el-table-column>\n                    <el-table-column\n                      prop=\"amount\"\n                      label=\"订单金额(CNY)\"\n                      min-width=\"120\"\n                      align=\"center\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"currency\"\n                      label=\"订单金额(USDT)\"\n                      align=\"center\"\n                      min-width=\"120\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"currencies\"\n                      label=\"实时汇率(USDT/CNY)\"\n                      align=\"center\"\n                      width=\"80\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"cost\"\n                      label=\"支出手续费(USDT)\"\n                      align=\"center\"\n                      width=\"100\">\n                    </el-table-column>                    \n                    <el-table-column\n                      prop=\"merchantCommission\"\n                      label=\"结算金额(usdt)\"\n                      align=\"center\"\n                      width=\"100\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"account\"\n                      label=\"火币账号\"\n                      align=\"center\"\n                      width=\"150\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"merchant\"\n                      label=\"商户名称\"\n                      align=\"center\"\n                      width=\"100\">\n                    </el-table-column>                                                                                                     \n                </el-table>\n             <el-pagination\n                class=\"pagination\"\n                background\n                layout=\"prev, pager, next\"\n                :page-size=\"15\"\n                :hide-on-single-page=\"orderList.length<15\"\n                :total=\"total\"\n                :current-page.sync=\"condition.page\"\n                @current-change=\"handleCurrentPage\">\n            </el-pagination>\n            <div style=\"clear:both;\"></div>\n            </div>\n        </div>                    \n    </div>\n</template>\n<script>\nimport IncomeTable from '../../components/IncomeTable.vue'\nexport default {\n    components:{\n        \"income-table\":IncomeTable\n     },\n    data() {\n        return {\n            service:{},\n            timeSlotArr: [{title:\"今天\",value:1}, {title:\"昨天\",value:2}, {title:\"近一周\",value:3}, {title:\"近一月\",value:4}, {title:\"全部\",value:5}],\n            dateValue: '',\n            orderList: [],\n            condition: {\n              id: 0,\n              timeSlot: 1,\n              keyword: '',\n              page:null,\n            },\n            // businessList: [],\n            total: null,\n            tableData: [{\n                time: \"2017-09-19 12:23:12\",\n                orderNum: \"20190426115521567\",\n                cny: 50,\n                usdt: 50,\n                rate: \"1:1\",\n                zhichu: 20,\n                jiesuan: 30,\n                account: \"18200113696\",\n                businessName: \"公司A\"\n            }\n            ]                       \n        }\n    },\n    methods: {\n        handleIconClick() {\n\n        },\n        async _getChannelDataStatistic(id){\n          let _id = id\n          let resData = await this.http.get('statistics/countStarkChannel.api', {id: _id})\n          if(resData.code === 200){\n            this.service = resData.data\n          } \n        },\n        /*\n        **获取渠道数据订单\n        */\n       async _getChannelDataOrder(condition){\n         let _condition = condition\n         let resData = {}\n         if(this.$store.state.userData.platform === 'stark'){\n           resData = await this.http.post('/statistics/countChannelOrder.api', _condition)\n         } else {\n           resData = await this.http.post('/statistics/channelCountOrder.api', _condition)\n         }\n         if(resData.code === 200){\n           this.orderList = resData.data.data\n           this.total  = resData.data.total\n         }\n       },\n        /*\n        **搜索\n        */      \n        async handleConSearchClick(){\n          this.condition.id = 0\n          this.condition.timeSlot = 0\n          await this._getChannelDataOrder(this.condition)\n        },\n        /*\n        **选择日期请求订单事件\n        */\n        async handleChooseTimeSlot(value){\n         if(Object.keys(this.$route.query).length){\n            let id = this.$route.query.id\n            this.condition.id = id\n          }\n          this.condition.timeSlot = value\n          await this._getChannelDataOrder(this.condition)\n        },\n        /*\n        **处理改变页数事件\n        */\n        async handleCurrentPage(cur){\n           this.condition.id = this.$route.query.id\n           this.condition.page = cur\n           this._getChannelDataOrder(this.condition)\n        },\n        /*\n        **确定选择时间\n        */        \n        async confirmSelectDate(date){\n          let _date = date\n          this.condition.id = this.$route.query.id\n          if(!_date){\n             this.condition.timeType = ''\n             delete this.condition.startTime\n             delete this.condition.endTime\n             this.condition.page = 1\n             this.orderList = []\n             this.total = 0  \n          } else if(_date.length) {\n            this.condition.timeType = 2\n            this.condition.startTime = this.common.formatDate(_date[0])\n            this.condition.endTime = this.common.formatDate(_date[1])\n            this.condition.timeSlot = ''\n            this._getChannelDataOrder(this.condition)\n          }\n        },\n        // /*\n        // **处理下拉渠道选择商户\n        // */\n        // async handleSelectSearchType(value){\n        //   this.condition.id = value\n        //   this.condition.page = 1\n        //   await this._getChannelDataOrder(this.condition)\n        // },\n        /*\n        **获取渠道商下商户\n        */\n        async _getBusinessInChannel(){\n          let resData = await this.http.get('/statistics/searchChannelMerchantQuick')\n          if(resData.code === 200){\n            this.businessList = resData.data\n          }\n        },\n        /*\n        **查看旗下商户统计\n        */\n        hadleViewBusinessStatic(){\n          this.$router.push({name: 'busiInBusiStatistic'})\n        }       \n         \n    },\n    async mounted() {\n      if(Object.keys(this.$route.query).length){\n         let id = this.$route.query.id\n         this.condition.id = id\n        await this._getChannelDataStatistic(id)\n       }\n       else{\n        await this._getChannelDataOrder(this.condition)\n        await this._getBusinessInChannel()\n       }\n\n    },       \n}\n</script>\n<style lang=\"less\" scoped>\n.contain-middle{\n    display: flex;\n}\n.statistic-Color-Block{\n     display: flex;\n     justify-content: space-evenly;\n     width: 24.25%;\n     margin-right: 1%;\n     height: 18vh;\n     &:last-child{\n         margin-right: 0;\n     }\n      .item-title{\n     z-index: 8;\n     }\n      .item-value{\n     z-index: 8;          \n      }\n }\n .order-input{\n   margin-left: 20px;\n }\n#viewBusinessStatic{\n  margin-left: 1.67rem;\n}\n\n</style>\n"],"sourceRoot":"src/views/business"}]}