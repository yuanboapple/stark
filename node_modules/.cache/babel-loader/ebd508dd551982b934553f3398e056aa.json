{"remainingRequest":"/Users/mac/Desktop/222/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/222/src/views/business/components/ChannelList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/222/src/views/business/components/ChannelList.vue","mtime":1561029209000},{"path":"/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.symbol.async-iterator\";\nimport \"core-js/modules/es6.symbol\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.function.name\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/mac/Desktop/222/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { async } from 'q';\nexport default {\n  data: function data() {\n    return {\n      channelDialogVisible: false,\n      viewBuisinessDialogShow: false,\n      chooseBusinessDialogVisible: false,\n      isEdit: false,\n      userState: '',\n      condition: {\n        keyword: '',\n        page: 1\n      },\n      busiSearch: '',\n      contractorSearch: '',\n      total: 0,\n      inBusiness: {},\n      //旗下商户\n      businessIds: \"\",\n      businessTags: [],\n      businessArr: null,\n      channelList: [],\n      channelForm: {\n        channelName: '',\n        account: '',\n        password: '',\n        commission: ''\n      },\n      channelRules: {\n        channelName: [{\n          required: true,\n          message: '请输入账号',\n          trigger: 'blur'\n        }],\n        account: [{\n          required: true,\n          message: '请输入账户/手机号',\n          trigger: 'blur'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }],\n        goods: [{\n          required: true,\n          message: '请选择商品',\n          trigger: 'blur'\n        }],\n        commission: [{\n          required: true,\n          message: '请输入佣金',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    /*\n    **处理搜索事件\n    */\n    handleConSearchClick: function () {\n      var _handleConSearchClick = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this._getChannelList(this.condition);\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function handleConSearchClick() {\n        return _handleConSearchClick.apply(this, arguments);\n      }\n\n      return handleConSearchClick;\n    }(),\n    handleViewData: function handleViewData(id) {\n      var _id = id;\n      this.$router.push({\n        name: 'commiInbusiStatistic',\n        query: {\n          id: _id\n        }\n      });\n    },\n\n    /*\n    **处理选择商户搜索事件\n    */\n    handleChooseBusiness: function () {\n      var _handleChooseBusiness = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var businesses;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this._getBusinessListByTel(this.busiSearch);\n\n              case 2:\n                businesses = _context2.sent;\n\n                if (businesses.code === 200) {\n                  this.chooseBusinessDialogVisible = true;\n                  this.businessArr = businesses.data.data;\n                  this.total = businesses.data.total;\n                  this.page = businesses.data.per_page;\n                }\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function handleChooseBusiness() {\n        return _handleChooseBusiness.apply(this, arguments);\n      }\n\n      return handleChooseBusiness;\n    }(),\n\n    /*\n    **处理确认选择商户事件\n    */\n    handleConfireChoose: function handleConfireChoose() {\n      var selections = this.$refs.businessArrTable.selection;\n\n      if (selections.length) {\n        this.businessTags = selections.map(function (s) {\n          return {\n            id: s.id,\n            name: s.name\n          };\n        });\n        console.log(this.businessTags);\n        this.chooseBusinessDialogVisible = false;\n      }\n    },\n\n    /*\n    **处理去选择事件\n    */\n    handlenBusinessDialogShow: function () {\n      var _handlenBusinessDialogShow = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(tags) {\n        var ids, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, business;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this.handleChooseBusiness();\n\n              case 2:\n                ids = tags.map(function (v) {\n                  return v.id;\n                });\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _iteratorError = undefined;\n                _context3.prev = 6;\n\n                for (_iterator = this.businessArr[Symbol.iterator](); !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                  business = _step.value;\n\n                  if (ids.indexOf(business.id) >= 0) {\n                    this.$refs.businessArrTable.toggleRowSelection(business);\n                  }\n                }\n\n                _context3.next = 14;\n                break;\n\n              case 10:\n                _context3.prev = 10;\n                _context3.t0 = _context3[\"catch\"](6);\n                _didIteratorError = true;\n                _iteratorError = _context3.t0;\n\n              case 14:\n                _context3.prev = 14;\n                _context3.prev = 15;\n\n                if (!_iteratorNormalCompletion && _iterator.return != null) {\n                  _iterator.return();\n                }\n\n              case 17:\n                _context3.prev = 17;\n\n                if (!_didIteratorError) {\n                  _context3.next = 20;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 20:\n                return _context3.finish(17);\n\n              case 21:\n                return _context3.finish(14);\n\n              case 22:\n                this.chooseBusinessDialogVisible = true;\n\n              case 23:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[6, 10, 14, 22], [15,, 17, 21]]);\n      }));\n\n      function handlenBusinessDialogShow(_x) {\n        return _handlenBusinessDialogShow.apply(this, arguments);\n      }\n\n      return handlenBusinessDialogShow;\n    }(),\n\n    /*\n    **网络请求获取商户列表\n    */\n    _getBusinessListByTel: function () {\n      var _getBusinessListByTel2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4(tel) {\n        var resData;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this.http.get('/platform/merchantQuickSearch.api', {\n                  keyword: tel\n                });\n\n              case 2:\n                resData = _context4.sent;\n                return _context4.abrupt(\"return\", resData);\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function _getBusinessListByTel(_x2) {\n        return _getBusinessListByTel2.apply(this, arguments);\n      }\n\n      return _getBusinessListByTel;\n    }(),\n\n    /*\n    **确定添加渠道商事件\n    */\n    handleAddChannel: function () {\n      var _handleAddChannel = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee5() {\n        var ids, body, resData;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                ids = this.businessTags.map(function (v) {\n                  return v.id;\n                });\n                this.businessIds = ids.join(',');\n                body = {\n                  platformName: this.channelForm.channelName,\n                  password: this.channelForm.password,\n                  tel: this.channelForm.account,\n                  platform: 3,\n                  commission: this.channelForm.commission,\n                  merchantId: this.businessIds\n                };\n                _context5.next = 5;\n                return this.http.post('/platform/createNewPlatform.api', body);\n\n              case 5:\n                resData = _context5.sent;\n\n                if (resData.code === 200) {\n                  this.$message.success(resData.msg);\n                  this.channelDialogVisible = false;\n\n                  this._getChannelList(thsi.condition);\n\n                  this.businessIds = '';\n                }\n\n              case 7:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function handleAddChannel() {\n        return _handleAddChannel.apply(this, arguments);\n      }\n\n      return handleAddChannel;\n    }(),\n\n    /*\n    **确定修改渠道商事件\n    */\n    handleConfirmEditChannel: function () {\n      var _handleConfirmEditChannel = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee6() {\n        var ids, data, resData;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                ids = this.businessTags.map(function (v) {\n                  return v.id;\n                });\n                this.businessIds = ids.join(',');\n                data = {\n                  platformName: this.channelForm.account,\n                  tel: this.channelForm.account,\n                  password: this.channelForm.password,\n                  commission: this.channelForm.commission,\n                  merchantId: this.businessIds,\n                  id: this.channelForm.id\n                };\n                _context6.next = 5;\n                return this.http.post('/platform/updateChannel', data);\n\n              case 5:\n                resData = _context6.sent;\n\n                if (resData.code === 200) {\n                  this.$message.success(resData.msg);\n                  this.$refs.channelForm.resetFields();\n                  this.channelDialogVisible = false;\n                  this.isEdit = false;\n                }\n\n              case 7:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function handleConfirmEditChannel() {\n        return _handleConfirmEditChannel.apply(this, arguments);\n      }\n\n      return handleConfirmEditChannel;\n    }(),\n\n    /*\n     **启动平台账户事件\n     */\n    enableAccount: function () {\n      var _enableAccount = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee7(id) {\n        var _id, resData;\n\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _id = id;\n                _context7.next = 3;\n                return this.http.get('/platform/enablePlatform', {\n                  id: _id\n                });\n\n              case 3:\n                resData = _context7.sent;\n\n                if (!(resData.code === 200)) {\n                  _context7.next = 8;\n                  break;\n                }\n\n                this.$message.success(resData.msg);\n                _context7.next = 8;\n                return this._getChannelList(this.condition);\n\n              case 8:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function enableAccount(_x3) {\n        return _enableAccount.apply(this, arguments);\n      }\n\n      return enableAccount;\n    }(),\n\n    /*\n    **网络获取渠道商列表事件\n    */\n    _getChannelList: function () {\n      var _getChannelList2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee8(condition) {\n        var _condition, resData;\n\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _condition = condition;\n                _context8.next = 3;\n                return this.http.get('/platform/channelLists', _condition);\n\n              case 3:\n                resData = _context8.sent;\n\n                if (resData.code === 200) {\n                  this.channelList = resData.data.data;\n                  this.condition.page = resData.data.current_page;\n                  this.total = resData.data.total;\n                }\n\n              case 5:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function _getChannelList(_x4) {\n        return _getChannelList2.apply(this, arguments);\n      }\n\n      return _getChannelList;\n    }(),\n\n    /*\n     **处理冻结平台账户事件\n     */\n    handleFrozenAccount: function () {\n      var _handleFrozenAccount = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee9(id) {\n        var platformId, resData;\n        return regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                platformId = id;\n                _context9.next = 3;\n                return this.http.get('/platform/frozenPlatform', {\n                  id: platformId\n                });\n\n              case 3:\n                resData = _context9.sent;\n\n              case 4:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function handleFrozenAccount(_x5) {\n        return _handleFrozenAccount.apply(this, arguments);\n      }\n\n      return handleFrozenAccount;\n    }(),\n\n    /*\n    **处理查看旗下商户事件\n    */\n    handleViewBusiness: function () {\n      var _handleViewBusiness = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee10(id) {\n        var _id, resData;\n\n        return regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                this.viewBuisinessDialogShow = true;\n                _id = id;\n                _context10.next = 4;\n                return this.http.get(\"/platform/channelMerchant\", {\n                  id: _id\n                });\n\n              case 4:\n                resData = _context10.sent;\n\n                if (resData.code === 200) {\n                  this.inBusiness = resData.data;\n                }\n\n              case 6:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function handleViewBusiness(_x6) {\n        return _handleViewBusiness.apply(this, arguments);\n      }\n\n      return handleViewBusiness;\n    }(),\n\n    /*\n    **处理分页当前页改变事件\n    */\n    handleCurrentchange: function handleCurrentchange(val) {\n      this.condition.page = val;\n\n      this._getChannelList(this.condition);\n    },\n\n    /*\n    **处理编辑渠道商事件\n    */\n    handleEditChannel: function () {\n      var _handleEditChannel = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee11(id) {\n        var _id, resData, ids;\n\n        return regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _id = id;\n                _context11.next = 3;\n                return this.http.get(\"/platform/channelDetail.api\", {\n                  id: _id\n                });\n\n              case 3:\n                resData = _context11.sent;\n\n                if (resData.code === 200) {\n                  this.channelDialogVisible = true;\n                  this.isEdit = true;\n                  this.channelForm.id = _id;\n                  this.channelForm.account = resData.data.account;\n                  this.channelForm.channelName = resData.data.channel;\n                  this.channelForm.commission = resData.data.commission;\n                  this.businessTags = resData.data.merchant;\n                  ids = resData.data.merchant.map(function (e) {\n                    return e.id;\n                  });\n                  this.businessIds = ids.length > 1 ? ids.join(',') : ids.join('');\n                }\n\n              case 5:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function handleEditChannel(_x7) {\n        return _handleEditChannel.apply(this, arguments);\n      }\n\n      return handleEditChannel;\n    }(),\n\n    /*\n    **处理关闭tag事件\n    */\n    handleClose: function () {\n      var _handleClose = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee12(tag) {\n        return regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                this.businessTags.splice(this.businessTags.indexOf(tag), 1);\n\n              case 1:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function handleClose(_x8) {\n        return _handleClose.apply(this, arguments);\n      }\n\n      return handleClose;\n    }(),\n\n    /*\n    **添加修改渠道商Dialog关闭\n    */\n    addChanneldialogClose: function addChanneldialogClose() {\n      this.businessIds = '';\n      this.businessTags = [];\n      this.isEdit = false;\n      this.channelForm = {};\n      this.$refs.channelForm.resetFields();\n    }\n  },\n  mounted: function () {\n    var _mounted = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee13() {\n      return regeneratorRuntime.wrap(function _callee13$(_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              _context13.next = 2;\n              return this._getChannelList(this.condition);\n\n            case 2:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, _callee13, this);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};",{"version":3,"sources":["ChannelList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <div class=\"contain-footer-top\">\n          <div class=\"contain-footer-topl\">                    \n            <el-button class=\"sys-Btn\" @click=\"channelDialogVisible = true;\" type=\"primary\">新增渠道商</el-button>\n          </div>\n          <div class=\"contain-footer-topr\"> \n            <el-input v-model=\"condition.keyword\" class=\"searchTool\">\n                  <i\n                   class=\"el-icon-search el-input__icon\"\n                   slot=\"suffix\"\n                   @click=\"handleConSearchClick\">\n                  </i>\n            </el-input>                                          \n          </div>                        \n        </div>\n        <div class=\"contain-footer-bottom\">\n            <el-table\n                :data=\"channelList\"\n                border\n                style=\"width: 100%\">\n                <el-table-column align=\"center\"\n                  type=\"index\"\n                  label=\"ID\"\n                  width=\"80\">\n                </el-table-column>  \n                <el-table-column\n                  prop=\"account\"\n                  label=\"币安账号\"\n                  min-width=\"140\"\n                  align=\"center\">                      \n                </el-table-column>\n                <el-table-column\n                  prop=\"name\"\n                  label=\"渠道商名称\"\n                  width=\"100\"\n                  align=\"center\">\n                </el-table-column>\n                <el-table-column\n                  prop=\"company\"\n                  label=\"用户类型\"\n                  align=\"center\"\n                  width=\"80\">\n                </el-table-column>\n                <el-table-column\n                  prop=\"registerTime\"\n                  label=\"创建时间\"\n                  align=\"center\"\n                  min-width=\"180\">\n                </el-table-column>                    \n                <el-table-column\n                  label=\"操作\"\n                  align=\"center\"\n                  min-width=\"220\">\n                  <template slot-scope=\"scope\">\n                      <el-button class=\"sys-text-Btn\" size=\"small\" @click=\"handleEditChannel(scope.row.id)\" type=\"text\">编辑</el-button>\n                      <el-button class=\"sys-text-Btn\" size=\"small\"  type=\"text\" @click=\"handleViewBusiness(scope.row.id)\">查看旗下商户</el-button>\n                      <el-button class=\"sys-text-Btn\" size=\"small\" @click=\"handleViewData(scope.row.id)\"  type=\"text\">数据统计</el-button>\n                      <el-button v-if=\"scope.row.isFrozen\" @click=\"enableAccount(scope.row.id)\"   size=\"mini\" type=\"success\">启用</el-button>\n                      <el-button v-else @click=\"handleFrozenAccount(scope.row.id)\"  size=\"mini\" type=\"danger\">禁用账户</el-button>\n                  </template>\n                </el-table-column>\n                <el-table-column\n                  label=\"账号状态\"\n                  align=\"center\"\n                  width=\"150\">\n                  <template slot-scope=\"scope\">\n                      <span v-if=\"!scope.row.isActive\" class=\"no-activeBtn\" type=\"text\">未激活</span>\n                      <span v-else type=\"text\" class=\"activeBtn\">激活</span>\n                  </template>\n                </el-table-column>                                                                                                 \n            </el-table>            \n        </div>\n      <el-pagination\n          class=\"pagination\"\n          background\n          layout=\"prev, pager, next\"\n          :hide-on-single-page=\"total<=15\"\n          @current-change=\"handleCurrentchange\"\n          :current-page = \"condition.page\"\n          :page-size=\"15\"\n          :total=\"total\">\n      </el-pagination>\n      <div style=\"clear:both;\"></div> \n      <!-- 新增渠道商Dialog          -->\n       <el-dialog class=\"dialog\" id=\"addContraDialog\"\n           :title=\"isEdit?'修改渠道商':'新增渠道商'\"\n           :visible.sync=\"channelDialogVisible\"\n           width=\"35%\"\n           @close=\"addChanneldialogClose\"\n           >\n             <el-form :model=\"channelForm\" :rules=\"channelRules\" ref=\"channelForm\" label-width=\"auto\" size=\"medium\" label-position=\"right\" class=\"demo-ruleForm\">\n               <el-form-item label=\"渠道商名称：\" prop=\"channelName\">\n                 <el-input  v-model=\"channelForm.channelName\"></el-input>  \n               </el-form-item>\n                <el-form-item label=\"账号（手机号）：\" prop=\"account\">\n                 <el-input :disabled=\"isEdit\"  v-model=\"channelForm.account\"></el-input>  \n               </el-form-item>               \n                <el-form-item v-if=\"!isEdit\" label=\"密码：\" prop=\"password\">\n                 <el-input  v-model=\"channelForm.password\"></el-input>  \n               </el-form-item>\n                <el-form-item id=\"chooseQxbusi\" :label=\"isEdit?'修改旗下商户':'选择旗下商户：'\" prop=\"goods\">\n                  <div class=\"tagInfos\" v-if=\"businessTags.length\">\n                    <el-tag\n                     :key=\"tag.id\"\n                     v-for=\"tag in businessTags\"\n                     closable\n                     :disable-transitions=\"false\"\n                     @close=\"handleClose(tag)\">\n                     {{tag.name}}\n                    </el-tag>\n                  </div>\n                  <el-button  class=\"sys-Btn\" size=\"mini\" @click=\"handlenBusinessDialogShow(businessTags)\">去选择</el-button>\n                </el-form-item>               \n                <el-form-item label=\"设置佣金：\"  prop=\"commission\">\n                 <el-input  class=\"commission-input\" v-model=\"channelForm.commission\"></el-input> %\n                 <div>\n                     <span class=\"commission-info\">商户收到的每一笔费用将抽成比例佣金返给渠道商币安账户，请谨慎操作</span>\n                 </div>                   \n               </el-form-item>               \n             </el-form>\n           <span slot=\"footer\" class=\"dialog-footer\">\n\n             <el-button v-if=\"!isEdit\" class=\"sys-Btn\" type=\"primary\" @click=\"handleAddChannel\">确 定</el-button> \n             <el-button v-else class=\"sys-Btn\" type=\"primary\" @click=\"handleConfirmEditChannel\">确定</el-button>              \n             <el-button @click=\"channelDialogVisible = false\">取 消</el-button>\n           </span>   \n        </el-dialog>  \n           <!-- 选择商户模态框 -->\n         <el-dialog class=\"dialog\"\n           title=\"选择商户\"\n           :visible.sync=\"chooseBusinessDialogVisible\"\n           id=\"chooseBusinessDia\"\n           width=\"35%\"\n           >\n            <div id=\"searchBar\">\n             <div><el-input v-model=\"busiSearch\" class=\"searchTool\"></el-input>\n             <el-button class=\"sys-Btn\" @click=\"handleChooseBusiness\">搜索</el-button></div>\n           </div>\n           <template v-if=\"businessArr\">\n           <div>\n             <el-table  :data=\"businessArr\"  ref=\"businessArrTable\" border style=\"width:100%\">\n               <el-table-column type=\"selection\" label=\"选择\" align=\"center\" width=\"50\"></el-table-column>\n               <el-table-column type=\"index\" label=\"序号\" align=\"center\" min-width=\"50\"></el-table-column>\n               <el-table-column property=\"name\" align=\"center\" label=\"商户名称\" min-width=\"120\"></el-table-column>\n             </el-table>\n           </div>\n            <el-pagination\n                class=\"pagination\"\n                background\n                layout=\"prev, pager, next\"\n                :hide-on-single-page=\"total<=page\"\n                :total=\"total\"\n                :page-size.sync=\"page\"\n                >\n            </el-pagination>  \n           <span slot=\"footer\" class=\"dialog-footer\">\n             <el-button class=\"sys-Btn\" type=\"primary\" @click=\"handleConfireChoose\">确 定</el-button>               \n             <el-button @click=\"chooseBusinessDialogVisible = false\">取 消</el-button>\n           </span>\n           </template>\n\n        </el-dialog>\n           <!-- 选择旗下商户模态框 -->\n         <el-dialog class=\"dialog\"\n           title=\"旗下商户\"\n           id=\"viewBusinessDia\"\n           :visible.sync=\"viewBuisinessDialogShow\"\n           width=\"35%\"\n           >\n           <div>\n             <el-table    :data=\"inBusiness.data\"  ref=\"businessArrTable2\" border style=\"width:100%\">\n               <el-table-column type=\"index\" label=\"ID\" align=\"center\" min-width=\"50\"></el-table-column>\n               <el-table-column property=\"name\" align=\"center\" label=\"商户名称\" min-width=\"80\"></el-table-column>\n               <el-table-column property=\"commission\" align=\"center\" label=\"佣金\" min-width=\"80\"></el-table-column>\n               <el-table-column property=\"createTime\" align=\"center\" label=\"创建时间\" min-width=\"100\"></el-table-column>\n             </el-table>\n           </div>\n            <el-pagination\n                class=\"pagination\"\n                background\n                layout=\"prev, pager, next\"\n                :hide-on-single-page=\"inBusiness.total<=inBusiness.per_page\"\n                :total=\"inBusiness.total\"\n                :page-size.sync=\"inBusiness.per_page\"\n                >\n            </el-pagination>  \n        </el-dialog>         \n \n    </div>\n</template>\n<script>\nimport { async } from 'q';\nexport default {\n    data() {\n        return {\n            channelDialogVisible: false,\n            viewBuisinessDialogShow: false,\n            chooseBusinessDialogVisible: false,\n            isEdit: false,\n            userState:'',\n            condition: {\n              keyword: '',\n              page: 1\n            },\n            busiSearch:'',\n            contractorSearch:'',\n            total: 0,\n            inBusiness:{ \n\n            },//旗下商户\n            businessIds: \"\",\n            businessTags: [],\n            businessArr: null, \n            channelList: [],           \n            channelForm: {\n                channelName: '',\n                account: '',\n                password: '',\n                commission:''\n            },\n            channelRules:{\n              channelName: [\n                  { required: true, message: '请输入账号', trigger: 'blur' },\n              ],\n              account: [\n                  { required: true, message: '请输入账户/手机号', trigger: 'blur' },\n              ],   \n              password:[\n                  { required: true, message: '请输入密码', trigger: 'blur' },                  \n              ],                          \n              goods:[\n                  { required: true, message: '请选择商品', trigger: 'blur' },                  \n              ],\n              commission:[\n                  { required: true, message: '请输入佣金', trigger: 'blur' },                  \n              ]                               \n            }                         \n        }\n    },\n    methods: {\n        /*\n        **处理搜索事件\n        */      \n        async handleConSearchClick(){\n          await this._getChannelList(this.condition)\n        },\n        handleViewData(id) {\n            let _id = id\n            this.$router.push({name: 'commiInbusiStatistic',query: {id: _id}})\n        },\n        /*\n        **处理选择商户搜索事件\n        */\n        async handleChooseBusiness() {\n          let businesses = await this._getBusinessListByTel(this.busiSearch)\n          if(businesses.code === 200){\n            this.chooseBusinessDialogVisible = true\n            this.businessArr = businesses.data.data\n            this.total = businesses.data.total\n            this.page = businesses.data.per_page\n          }\n          \n        },\n        /*\n        **处理确认选择商户事件\n        */\n        handleConfireChoose(){\n          let selections = this.$refs.businessArrTable.selection;\n          if(selections.length){\n           this.businessTags = selections.map(s=> {return {id: s.id , name: s.name }})\n           console.log(this.businessTags)\n           this.chooseBusinessDialogVisible = false\n          }\n        },\n        /*\n        **处理去选择事件\n        */\n        async handlenBusinessDialogShow(tags) {\n          await this.handleChooseBusiness()\n          let ids = tags.map(v=> {return v.id})\n          for (const business of this.businessArr) {\n            if(ids.indexOf(business.id) >=0)\n            {\n              this.$refs.businessArrTable.toggleRowSelection(business)\n            }\n          }\n          this.chooseBusinessDialogVisible = true\n        },\n        /*\n        **网络请求获取商户列表\n        */\n        async _getBusinessListByTel(tel) {\n           let resData =  await this.http.get('/platform/merchantQuickSearch.api', {keyword: tel})\n           return resData;\n        },\n        /*\n        **确定添加渠道商事件\n        */\n        async handleAddChannel(){\n          let ids = this.businessTags.map(v=> {return v.id})\n          this.businessIds = ids.join(',')\n          let body = {\n            platformName: this.channelForm.channelName,\n            password: this.channelForm.password,\n            tel: this.channelForm.account,\n            platform: 3,\n            commission: this.channelForm.commission,\n            merchantId: this.businessIds\n          }\n          let resData = await this.http.post('/platform/createNewPlatform.api', body)\n          if(resData.code === 200)\n          {\n            this.$message.success(resData.msg)\n            this.channelDialogVisible = false\n            this._getChannelList(thsi.condition)\n            this.businessIds = ''\n          }\n        },\n        /*\n        **确定修改渠道商事件\n        */\n        async handleConfirmEditChannel() {\n          let ids = this.businessTags.map(v=> {return v.id})\n          this.businessIds = ids.join(',')\n          let data = {\n            platformName: this.channelForm.account,\n            tel: this.channelForm.account,\n            password: this.channelForm.password,\n            commission: this.channelForm.commission,\n            merchantId: this.businessIds,\n            id: this.channelForm.id\n          }\n          let resData = await this.http.post('/platform/updateChannel', data)\n          if(resData.code === 200)\n          {\n            this.$message.success(resData.msg)\n            this.$refs.channelForm.resetFields()\n            this.channelDialogVisible = false;\n            this.isEdit = false;\n          }\n        },\n        /*\n         **启动平台账户事件\n         */\n        async enableAccount(id) {\n          let _id = id\n          let resData = await this.http.get('/platform/enablePlatform', {id: _id})\n          if(resData.code === 200){\n            this.$message.success(resData.msg)\n            await this._getChannelList(this.condition)\n          }\n        },        \n        /*\n        **网络获取渠道商列表事件\n        */\n       async _getChannelList(condition){\n         let _condition = condition\n         let resData = await this.http.get('/platform/channelLists', _condition)\n         if(resData.code === 200){\n           this.channelList = resData.data.data\n           this.condition.page = resData.data.current_page\n           this.total = resData.data.total\n         }\n\n       },\n        /*\n         **处理冻结平台账户事件\n         */\n       async handleFrozenAccount(id){\n         let platformId = id\n         let resData = await this.http.get('/platform/frozenPlatform', {id: platformId})\n        },\n        /*\n        **处理查看旗下商户事件\n        */\n       async handleViewBusiness(id){\n         this.viewBuisinessDialogShow = true\n         let _id  = id;\n         let resData = await this.http.get(\"/platform/channelMerchant\",{id: _id})\n         if(resData.code === 200){\n           this.inBusiness = resData.data\n         }\n       },\n        /*\n        **处理分页当前页改变事件\n        */\n       handleCurrentchange(val) {\n         this.condition.page = val\n         this._getChannelList(this.condition)\n       },    \n        /*\n        **处理编辑渠道商事件\n        */       \n       async handleEditChannel(id){\n         let _id = id;\n         let resData = await this.http.get(\"/platform/channelDetail.api\", {id: _id})\n         if(resData.code === 200){\n         this.channelDialogVisible = true\n         this.isEdit = true\n         this.channelForm.id = _id\n         this.channelForm.account = resData.data.account\n         this.channelForm.channelName = resData.data.channel\n         this.channelForm.commission = resData.data.commission\n         this.businessTags = resData.data.merchant\n         let ids = resData.data.merchant.map(e => {\n              return  e.id\n            });\n         this.businessIds = ids.length>1?ids.join(','):ids.join('')\n         }\n\n       },\n        /*\n        **处理关闭tag事件\n        */       \n      async handleClose(tag){\n        this.businessTags.splice(this.businessTags.indexOf(tag), 1)\n       },\n       /*\n       **添加修改渠道商Dialog关闭\n       */\n      addChanneldialogClose() {\n        this.businessIds = ''\n        this.businessTags = []\n        this.isEdit = false\n        this.channelForm = {}\n        this.$refs.channelForm.resetFields()\n      }\n       \n    },\n    async mounted() {\n      await this._getChannelList(this.condition);\n    },\n}\n</script>\n<style lang=\"less\">\n#chooseBusinessDia,#viewBusinessDia{\n  .el-dialog__body{\n    padding-bottom:20px;\n    text-align: center;\n    display: flex;\n    flex-direction: column;\n    // min-height: 200px;\n    .el-table{\n      display: inline-block;\n    }\n    \n  }\n  .pagination{\n    display: block;\n  }\n  #searchBar{\n    display: flex;\n    flex-direction: row-reverse;\n    margin-bottom: 20px;\n    .searchTool{\n      margin-right: 20px;\n    }\n  }\n\n\n}\n\n#chooseQxbusi{\n  .el-form-item__content{\n    display: flex;\n    align-items: center;\n  .el-tag {\n    margin-right: 10px;\n  }\n  }\n}\n\n</style>\n"],"sourceRoot":"src/views/business/components"}]}