{"remainingRequest":"/Users/yuanbo/Desktop/与燕/222/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/yuanbo/Desktop/与燕/222/src/plugins/common.js","dependencies":[{"path":"/Users/yuanbo/Desktop/与燕/222/src/plugins/common.js","mtime":1560760288493},{"path":"/Users/yuanbo/Desktop/与燕/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/yuanbo/Desktop/与燕/222/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport vue from 'vue';\nimport { MessageBox } from 'element-ui';\nimport router from \".././router\";\nimport store from \".././store\";\nimport qs from \"qs\";\nvar Vue = new vue({\n  router: router,\n  store: store\n}); //注册router, 实例中调用\n\nexport default {\n  basePath: \"\".concat(window.location.origin, \"/site\"),\n  emailReg: /^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*\\.[a-zA-Z0-9]{2,6}$/,\n  mobileReg: /^1[34578]\\d{9}$/,\n\n  /**\r\n   * 重新查询最新的用户信息, 并保存到session和vuex\r\n   * @return {[type]} [description]\r\n   */\n  reLogin: function reLogin() {\n    var config = {\n      url: \"\".concat(this.basePath, \"/admin/admin/adminLogin\"),\n      method: \"patch\",\n      data: null\n    };\n    Vue.axios(config).then(function (response) {\n      Vue.$message.success(\"成功\");\n    }).catch(function (error) {\n      Vue.$message.error(error);\n    });\n  },\n\n  /**\r\n   * 遍历树(递归遍历), 删除空白的childrens\r\n   * @param  {object}   node         根节点(单个对象, 多个树需要重复调用)\r\n   * @return none\r\n   */\n  traverseTree: function traverseTree(node) {\n    if (!node) {\n      return;\n    }\n\n    if (node.childrens && node.childrens.length > 0) {\n      var i = 0;\n\n      for (i = 0; i < node.childrens.length; i++) {\n        this.traverseTree(node.childrens[i]);\n      }\n    } else {\n      delete node.childrens;\n    }\n  },\n\n  /**\r\n  * 将时间戳转换为某年某月某日 00：00：00\r\n  * @params {string/number} timeSetback 时间戳\r\n  * @params {string} format 时间格式\r\n  */\n  _convertDate: function _convertDate(timeSetback, format) {\n    return timeSetback ? new Date(timeSetback).Format(format) : '无';\n  },\n\n  /**\r\n  * 将Date对象转换为某年某月某日 00：00：00\r\n  * @params {Date} date Date对象\r\n  */\n  formatDate: function formatDate(date) {\n    var y = date.getFullYear();\n    var m = date.getMonth() + 1;\n    m = m < 10 ? '0' + m : m;\n    var d = date.getDate();\n    d = d < 10 ? '0' + d : d;\n    var h = date.getHours();\n    var minute = date.getMinutes();\n    minute = minute < 10 ? '0' + minute : minute;\n    var second = date.getSeconds();\n    second = minute < 10 ? '0' + second : second;\n    return y + '-' + m + '-' + d + ' ' + h + ':' + minute + ':' + second;\n  },\n\n  /**\r\n   * 通用方法用于返回之前浏览的页面, 当path丢失时返回首页\r\n   * @return {[type]} [description]\r\n   */\n  backForward: function backForward() {\n    var path = sessionStorage.getItem(\"historyPath\") || \"/\";\n    Vue.$router.push({\n      path: path\n    });\n  },\n\n  /*\r\n   * 性别\r\n   */\n  transferGender: function transferGender(sex) {\n    return sex == 1 ? '男' : '女';\n  },\n\n  /**\r\n   * 根据日期字符串获取星期几\r\n   * @param dateString 日期字符串（如：2016-12-29），为空时为用户电脑当前日期\r\n   * @returns {String}\r\n   */\n  getWeek: function getWeek(dateString) {\n    var date;\n    date = new Date(dateString);\n    return \"星期\" + \"日一二三四五六\".charAt(date.getDay());\n  },\n\n  /*\r\n   * blod 下载附件\r\n   */\n  _fileBold: function _fileBold(response) {\n    var fileName = decodeURI(response.headers['content-disposition'].substring(20, response.headers['content-disposition'].length));\n    var url = window.URL.createObjectURL(new Blob([response.data]));\n    var link = document.createElement('a');\n    link.style.display = 'none';\n    link.href = url;\n    link.setAttribute('download', fileName);\n    document.body.appendChild(link);\n    link.click();\n  }\n};\n/*\r\n*   格式化日期格式\r\n*/\n\nDate.prototype.Format = function (fmt) {\n  var o = {\n    \"M+\": this.getMonth() + 1,\n    //月份 \n    \"d+\": this.getDate(),\n    //日 \n    \"h+\": this.getHours(),\n    //小时 \n    \"m+\": this.getMinutes(),\n    //分 \n    \"s+\": this.getSeconds(),\n    //秒 \n    \"q+\": Math.floor((this.getMonth() + 3) / 3),\n    //季度 \n    \"S\": this.getMilliseconds() //毫秒 \n\n  };\n  if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\n\n  for (var k in o) {\n    if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : (\"00\" + o[k]).substr((\"\" + o[k]).length));\n  }\n\n  return fmt;\n};",{"version":3,"sources":["/Users/yuanbo/Desktop/与燕/222/src/plugins/common.js"],"names":["vue","MessageBox","router","store","qs","Vue","basePath","window","location","origin","emailReg","mobileReg","reLogin","config","url","method","data","axios","then","response","$message","success","catch","error","traverseTree","node","childrens","length","i","_convertDate","timeSetback","format","Date","Format","formatDate","date","y","getFullYear","m","getMonth","d","getDate","h","getHours","minute","getMinutes","second","getSeconds","backForward","path","sessionStorage","getItem","$router","push","transferGender","sex","getWeek","dateString","charAt","getDay","_fileBold","fileName","decodeURI","headers","substring","URL","createObjectURL","Blob","link","document","createElement","style","display","href","setAttribute","body","appendChild","click","prototype","fmt","o","Math","floor","getMilliseconds","test","replace","RegExp","$1","substr","k"],"mappings":"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","sourcesContent":["import vue from 'vue';\r\nimport { MessageBox } from 'element-ui';\r\nimport router from '.././router'\r\nimport store from '.././store'\r\nimport qs from \"qs\"\r\nconst Vue = new vue({router, store}); //注册router, 实例中调用\r\n\r\nexport default {\r\n  basePath:      `${window.location.origin}/site`,\r\n  emailReg:      /^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*\\.[a-zA-Z0-9]{2,6}$/,\r\n  mobileReg:     /^1[34578]\\d{9}$/,\r\n  /**\r\n   * 重新查询最新的用户信息, 并保存到session和vuex\r\n   * @return {[type]} [description]\r\n   */\r\n  reLogin() {\r\n    let config = {\r\n      url: `${this.basePath}/admin/admin/adminLogin`,\r\n      method: \"patch\",\r\n      data: null\r\n    }\r\n    Vue.axios(config).then(response => {\r\n      Vue.$message.success(\"成功\");\r\n    }).catch(error => {\r\n      Vue.$message.error(error);\r\n    })\r\n  },\r\n  /**\r\n   * 遍历树(递归遍历), 删除空白的childrens\r\n   * @param  {object}   node         根节点(单个对象, 多个树需要重复调用)\r\n   * @return none\r\n   */\r\n  traverseTree (node) {\r\n    if (!node) {\r\n      return;\r\n    }\r\n    if (node.childrens && node.childrens.length > 0) {\r\n      var i = 0;\r\n      for (i = 0; i < node.childrens.length; i++) {\r\n        this.traverseTree(node.childrens[i]); \r\n      }\r\n    } else {\r\n      delete node.childrens\r\n    }\r\n  },\r\n  /**\r\n  * 将时间戳转换为某年某月某日 00：00：00\r\n  * @params {string/number} timeSetback 时间戳\r\n  * @params {string} format 时间格式\r\n  */\r\n  _convertDate(timeSetback, format){\r\n    return timeSetback ? new Date(timeSetback).Format(format) : '无';\r\n  },\r\n\r\n  /**\r\n  * 将Date对象转换为某年某月某日 00：00：00\r\n  * @params {Date} date Date对象\r\n  */\r\n  formatDate (date) {\r\n    var y = date.getFullYear();  \r\n    var m = date.getMonth() + 1;  \r\n    m = m < 10 ? ('0' + m) : m;  \r\n    var d = date.getDate();  \r\n    d = d < 10 ? ('0' + d) : d;  \r\n    var h = date.getHours();  \r\n    var minute = date.getMinutes();  \r\n    minute = minute < 10 ? ('0' + minute) : minute; \r\n    var second= date.getSeconds();  \r\n    second = minute < 10 ? ('0' + second) : second;  \r\n    return y + '-' + m + '-' + d+' '+h+':'+minute+':'+ second;  \r\n  },\r\n\r\n  /**\r\n   * 通用方法用于返回之前浏览的页面, 当path丢失时返回首页\r\n   * @return {[type]} [description]\r\n   */\r\n  backForward () {\r\n    let path = sessionStorage.getItem(\"historyPath\") || \"/\"\r\n    Vue.$router.push({path: path})\r\n  },\r\n  /*\r\n   * 性别\r\n   */\r\n  transferGender(sex){\r\n    return sex == 1 ? '男' : '女'\r\n  },\r\n  /**\r\n   * 根据日期字符串获取星期几\r\n   * @param dateString 日期字符串（如：2016-12-29），为空时为用户电脑当前日期\r\n   * @returns {String}\r\n   */\r\n  getWeek(dateString){ \r\n    var date; \r\n    date = new Date(dateString) \r\n    return \"星期\" + \"日一二三四五六\".charAt(date.getDay());\r\n  },\r\n  /*\r\n   * blod 下载附件\r\n   */\r\n  _fileBold(response) { \r\n    let fileName = decodeURI(response.headers['content-disposition'].substring(20, response.headers['content-disposition'].length));\r\n    let url = window.URL.createObjectURL(new Blob([response.data]))\r\n    let link = document.createElement('a')\r\n    link.style.display = 'none'\r\n    link.href = url\r\n    link.setAttribute('download', fileName)\r\n    document.body.appendChild(link)\r\n    link.click()\r\n  },\r\n  \r\n}\r\n/*\r\n*   格式化日期格式\r\n*/\r\nDate.prototype.Format = function (fmt) {\r\n  var o = {\r\n      \"M+\": this.getMonth() + 1, //月份 \r\n      \"d+\": this.getDate(), //日 \r\n      \"h+\": this.getHours(), //小时 \r\n      \"m+\": this.getMinutes(), //分 \r\n      \"s+\": this.getSeconds(), //秒 \r\n      \"q+\": Math.floor((this.getMonth() + 3) / 3), //季度 \r\n      \"S\": this.getMilliseconds() //毫秒 \r\n  };\r\n  if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + \"\").substr(4 - RegExp.$1.length));\r\n  for (var k in o)\r\n  if (new RegExp(\"(\" + k + \")\").test(fmt)) fmt = fmt.replace(RegExp.$1, (RegExp.$1.length == 1) ? (o[k]) : ((\"00\" + o[k]).substr((\"\" + o[k]).length)));\r\n  return fmt;\r\n}\r\n"]}]}