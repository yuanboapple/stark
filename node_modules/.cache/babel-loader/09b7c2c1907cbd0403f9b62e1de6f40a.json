{"remainingRequest":"/Users/mac/Desktop/222/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/222/src/views/contractor/OrderManage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/222/src/views/contractor/OrderManage.vue","mtime":1561110742000},{"path":"/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/mac/Desktop/222/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { async } from 'q';\nexport default {\n  data: function data() {\n    return {\n      detailDialogShow: false,\n      remarkErrorDialog: false,\n      state: '',\n      dealDialogShow: false,\n      timeSlotArr: [{\n        title: \"今天\",\n        value: 1\n      }, {\n        title: \"昨天\",\n        value: 2\n      }, {\n        title: \"近一周\",\n        value: 3\n      }, {\n        title: \"近一月\",\n        value: 4\n      }, {\n        title: \"全部\",\n        value: 5\n      }],\n      id: 0,\n      condition: {\n        timeSlot: 1,\n        searchType: 1,\n        type: \"\",\n        page: null,\n        keyword: ''\n      },\n      errorInfoForm: {\n        remark: ''\n      },\n      activeIndex: 0,\n      per_page: 0,\n      total: 0,\n      orderList: [],\n      orderDetail: null\n    };\n  },\n  methods: {\n    /*\n    **获取订单列表\n    */\n    _getOrderList: function () {\n      var _getOrderList2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var resData;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.http.get(\"\".concat(this.common.basePath, \"/order/orderLists.api\"), this.condition);\n\n              case 2:\n                resData = _context.sent;\n\n                if (resData.code === 200) {\n                  this.orderList = resData.data.data;\n                  this.per_page = resData.data.per_page;\n                  this.total = resData.data.total;\n                  this.current_page = resData.data.current_page;\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function _getOrderList() {\n        return _getOrderList2.apply(this, arguments);\n      }\n\n      return _getOrderList;\n    }(),\n\n    /*\n    **处理改变页数事件\n    */\n    handleCurrentPage: function () {\n      var _handleCurrentPage = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(cur) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this.condition.page = cur;\n                _context2.next = 3;\n                return this._getOrderListByConditon(this.condition);\n\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function handleCurrentPage(_x) {\n        return _handleCurrentPage.apply(this, arguments);\n      }\n\n      return handleCurrentPage;\n    }(),\n\n    /*\n    **选择日期请求订单事件\n    */\n    handleChooseTimeSlot: function () {\n      var _handleChooseTimeSlot = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(value) {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.condition.timeSlot = value;\n                this.condition.page = 1;\n                _context3.next = 4;\n                return this._getOrderListByConditon(this.condition);\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function handleChooseTimeSlot(_x2) {\n        return _handleChooseTimeSlot.apply(this, arguments);\n      }\n\n      return handleChooseTimeSlot;\n    }(),\n\n    /*\n    **处理下拉订单状态事件\n    */\n    handleSelectType: function () {\n      var _handleSelectType = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4(value) {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                this.condition.type = value;\n                this.condition.page = 1;\n                _context4.next = 4;\n                return this._getOrderListByConditon(this.condition);\n\n              case 4:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function handleSelectType(_x3) {\n        return _handleSelectType.apply(this, arguments);\n      }\n\n      return handleSelectType;\n    }(),\n\n    /*\n    **处理下拉渠道名称事件\n    */\n    handleSelectSearchType: function () {\n      var _handleSelectSearchType = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee5(value) {\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                this.condition.searchType = value;\n                this.condition.page = 1;\n                _context5.next = 4;\n                return this._getOrderListByConditon(this.condition);\n\n              case 4:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function handleSelectSearchType(_x4) {\n        return _handleSelectSearchType.apply(this, arguments);\n      }\n\n      return handleSelectSearchType;\n    }(),\n\n    /*\n    **处理搜索点击事件\n    */\n    handleSearchClick: function () {\n      var _handleSearchClick = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee6(value) {\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                this.condition.keyword = value;\n                _context6.next = 3;\n                return this._getOrderListByConditon(this.condition);\n\n              case 3:\n                this.condition.page = 1;\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function handleSearchClick(_x5) {\n        return _handleSearchClick.apply(this, arguments);\n      }\n\n      return handleSearchClick;\n    }(),\n\n    /*\n    **根据条件请求订单列表\n    */\n    _getOrderListByConditon: function () {\n      var _getOrderListByConditon2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee7(conditon) {\n        var _conditon, resData;\n\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _conditon = conditon;\n\n                if (this.$store.state.userData.platform === 'acceptance') {\n                  if (_conditon.hasOwnProperty('searchType')) delete _conditon.searchType;\n                }\n\n                _context7.next = 4;\n                return this.http.get('/order/orderLists.api', _conditon);\n\n              case 4:\n                resData = _context7.sent;\n\n                if (resData.code === 200) {\n                  this.orderList = resData.data.data;\n                  this.per_page = resData.data.per_page;\n                  this.total = resData.data.total;\n                  this.current_page = 1;\n                }\n\n              case 6:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function _getOrderListByConditon(_x6) {\n        return _getOrderListByConditon2.apply(this, arguments);\n      }\n\n      return _getOrderListByConditon;\n    }(),\n\n    /*\n    **确定处理\n    */\n    confirmDeal: function () {\n      var _confirmDeal = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee8(id) {\n        var _id, resData;\n\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _id = id;\n                _context8.next = 3;\n                return this.http.get('/order/handlingExceptionalOrders', {\n                  id: _id,\n                  action: this.state\n                });\n\n              case 3:\n                resData = _context8.sent;\n\n                if (!(resData.code === 200)) {\n                  _context8.next = 9;\n                  break;\n                }\n\n                this.$message.success(resData.msg);\n                _context8.next = 8;\n                return this._getOrderList();\n\n              case 8:\n                this.dealDialogShow = false;\n\n              case 9:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function confirmDeal(_x7) {\n        return _confirmDeal.apply(this, arguments);\n      }\n\n      return confirmDeal;\n    }(),\n\n    /*\n    **确定提交异常说明\n    */\n    submitErrorIntro: function () {\n      var _submitErrorIntro = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee9() {\n        var data, resData;\n        return regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                data = {\n                  remark: this.errorInfoForm.remark,\n                  id: this.id\n                };\n                _context9.next = 3;\n                return this.http.post('/order/MarkExceptionalOrder', data);\n\n              case 3:\n                resData = _context9.sent;\n\n                if (resData.code === 200) {\n                  this.$message.success(resData.msg);\n                  this.$refs.errorInfoForm.resetFields();\n\n                  this._getOrderListByConditon(this.condition);\n                }\n\n              case 5:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function submitErrorIntro() {\n        return _submitErrorIntro.apply(this, arguments);\n      }\n\n      return submitErrorIntro;\n    }(),\n\n    /*\n    **承兑商取消订单\n    */\n    cancealOrder: function () {\n      var _cancealOrder = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee10(id) {\n        var _id, resData;\n\n        return regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _id = id;\n                _context10.next = 3;\n                return this.http.get('order/cancelOrder', {\n                  id: _id\n                });\n\n              case 3:\n                resData = _context10.sent;\n\n                if (resData.code === 200) {\n                  this.$message.success(resData.msg);\n\n                  this._getOrderListByConditon(this.condition);\n                }\n\n              case 5:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function cancealOrder(_x8) {\n        return _cancealOrder.apply(this, arguments);\n      }\n\n      return cancealOrder;\n    }(),\n\n    /*\n    **承兑商确认订单\n    */\n    confirmOrder: function () {\n      var _confirmOrder = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee11(id) {\n        var _id, resData;\n\n        return regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _id = id;\n                _context11.next = 3;\n                return this.http.get('order/confirmOrder', {\n                  id: _id\n                });\n\n              case 3:\n                resData = _context11.sent;\n\n                if (resData.code === 200) {\n                  this.$message.success(resData.msg);\n\n                  this._getOrderListByConditon(this.condition);\n                }\n\n              case 5:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function confirmOrder(_x9) {\n        return _confirmOrder.apply(this, arguments);\n      }\n\n      return confirmOrder;\n    }(),\n\n    /*\n    **获取订单详情\n    */\n    _getOrderDetail: function () {\n      var _getOrderDetail2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee12(id) {\n        var _id, resData;\n\n        return regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _id = id;\n                resData = {};\n\n                if (!(this.$store.state.userData.platform === 'stark')) {\n                  _context12.next = 8;\n                  break;\n                }\n\n                _context12.next = 5;\n                return this.http.get('order/starkOrderDetail', {\n                  id: _id\n                });\n\n              case 5:\n                resData = _context12.sent;\n                _context12.next = 11;\n                break;\n\n              case 8:\n                _context12.next = 10;\n                return this.http.get('order/acceptanceOrderDetail', {\n                  id: _id\n                });\n\n              case 10:\n                resData = _context12.sent;\n\n              case 11:\n                console.log(resData);\n\n                if (resData.code === 200) {\n                  this.orderDetail = resData.data;\n                  this.activeIndex = Object.keys(this.orderDetail.orderProgress).length ? this.orderDetail.orderProgress.orderProgressAction - 1 : 0;\n                  this.detailDialogShow = true;\n                }\n\n              case 13:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function _getOrderDetail(_x10) {\n        return _getOrderDetail2.apply(this, arguments);\n      }\n\n      return _getOrderDetail;\n    }()\n  },\n  mounted: function () {\n    var _mounted = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee13() {\n      var query, key;\n      return regeneratorRuntime.wrap(function _callee13$(_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              query = this.$route.query;\n\n              if (Object.keys(query).length) {\n                for (key in query) {\n                  if (this.condition.hasOwnProperty(key)) {\n                    this.condition[key] = query[key];\n                  }\n                }\n              }\n\n              _context13.next = 4;\n              return this._getOrderListByConditon(this.condition);\n\n            case 4:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, _callee13, this);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};",{"version":3,"sources":["OrderManage.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <div class=\"contain-head\">\n            <div class=\"head-pre\"></div>\n            <span class=\"head-title\">订单状态</span>\n        </div>\n        <div class=\"contain-footer\">\n             <div class=\"contain-footer-top\">\n               <div class=\"contain-footer-topl\">\n                   <div  v-for=\"(item,index) in timeSlotArr\" :key=\"index\" @click=\"handleChooseTimeSlot(item.value)\"  :class=\"`date-option${item.value===condition.timeSlot?' choose':''}`\">\n                       <span>{{item.title}}</span>\n                   </div>                                                                          \n               </div>\n               <div class=\"contain-footer-topr\">\n                  <el-select v-model=\"condition.type\" class=\"state-input\" @change=\"handleSelectType\"  placeholder=\"订单状态\">\n                   <el-option label=\"全部\" :value=\"1\"></el-option>\n                   <el-option label=\"未付款\" :value=\"2\"></el-option>\n                   <el-option label=\"待确认\" :value=\"3\"></el-option>\n                   <el-option label=\"已确认\" :value=\"4\"></el-option>\n                   <el-option label=\"已结算\" :value=\"7\"></el-option>\n                   <el-option label=\"异常\" :value=\"9\"></el-option>\n                    <template v-if=\"$store.state.userData.platform === 'acceptance'\">\n                     <el-option label=\"已失效\" :value=\"5\"></el-option>\n                     <el-option label=\"已取消\" :value=\"6\"></el-option>            \n                    </template>\n                 </el-select>\n                 <template v-if=\"$store.state.userData.platform === 'stark'\">\n                  <el-select v-model=\"condition.searchType\" class=\"order-input\" @change=\"handleSelectSearchType\"  placeholder=\"订单号\">\n                   <el-option label=\"订单号\" :value=\"1\"></el-option>\n                   <el-option label=\"承兑商名称\" :value=\"2\"></el-option>\n                   <el-option label=\"渠道商名称\" :value=\"3\"></el-option>\n                   <el-option label=\"商户名称\" :value=\"4\"></el-option>\n                  </el-select>\n                 </template>                                   \n                 <el-input v-model=\"condition.keyword\" class=\"searchTool\" :placeholder=\"$store.state.userData.platform === 'stark'?'':'请输入用户姓名或者订单号'\">\n                       <i\n                        class=\"el-icon-search el-input__icon\"\n                        slot=\"suffix\"\n                        @click=\"handleSearchClick(condition.keyword)\">\n                       </i>\n                 </el-input>\n                 <el-button class=\"dowload-Btn\" type=\"primary\">导出</el-button>\n               </div>               \n             </div>\n            <div class=\"contain-footer-bottom\">\n              <el-table\n                    :data=\"orderList\"\n                    border\n                    style=\"width: 100%\">\n                <!-- Stark平台订单管理列表     -->\n                <template v-if=\"$store.state.userData.platform === 'stark'\">\n                    <el-table-column align=\"center\"\n                      prop=\"acceptance\"\n                      label=\"承兑商名称\"\n                      min-width=\"100\">\n                    </el-table-column>  \n                    <el-table-column\n                      prop=\"orderNum\"\n                      label=\"订单号\"\n                      min-width=\"100\"\n                      align=\"center\">                      \n                    </el-table-column>\n                    <el-table-column\n                      prop=\"user\"\n                      label=\"用户姓名\"\n                      min-width=\"120\"\n                      align=\"center\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"amount\"\n                      label=\"订单金额（CNY）\"\n                      align=\"center\"\n                      min-width=\"80\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"currency\"\n                      label=\"订单金额（USDT）\"\n                      align=\"center\"\n                      min-width=\"80\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"payTime\"\n                      label=\"支付时间\"\n                      align=\"center\"\n                      min-width=\"90\">\n                    </el-table-column>                                        \n                    <el-table-column\n                      label=\"订单状态\"\n                      prop=\"status\"\n                      align=\"center\"\n                      min-width=\"120\">\n                      <template slot-scope=\"scope\">\n                          <el-tag v-if=\"scope.row.status.code === 2\"  size=\"medium\" type=\"info\">\n                            {{scope.row.status.title}}\n                          </el-tag>\n                          <el-tag v-else-if=\"scope.row.status.code === 7\"  size=\"medium\" type=\"success\">\n                            {{scope.row.status.title}}\n                          </el-tag>\n                          <el-tag v-else-if=\"scope.row.status.code === 9\"  size=\"medium\" type=\"danger\">\n                            {{scope.row.status.title}}\n                          </el-tag>\n                          <el-tag v-else-if=\"scope.row.status === 4\"  size=\"medium\" type=\"warning\">\n                            {{scope.row.status.title}}\n                          </el-tag>\n                          <el-tag v-else  size=\"medium\">\n                            {{scope.row.status.title}}\n                          </el-tag>                                                                                                                                \n                      </template>\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"cost\"\n                      label=\"平台手续费（USDT）\"\n                      align=\"center\"\n                      min-width=\"100\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"acceptanceCommission\"\n                      label=\"承兑商佣金（USDT）\"\n                      align=\"center\"\n                      min-width=\"100\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"merchant\"\n                      label=\"商户名称\"\n                      align=\"center\"\n                      min-width=\"100\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"merchantCommission\"\n                      label=\"商户结算金额\"\n                      align=\"center\"\n                      min-width=\"80\">\n                    </el-table-column>\n                    <el-table-column\n                      label=\"操作\"\n                      align=\"center\"\n                      min-width=\"100\"\n                      >\n                       <template slot-scope=\"scope\">\n                           <div v-if=\"scope.row.status.code == 9\">\n                              <el-button  class=\"sys-text-Btn\" @click=\"_getOrderDetail(scope.row.id)\"  type=\"text\" size=\"small\">查看</el-button>\n                              <el-button class=\"sys-text-Btn\" @click=\"dealDialogShow = true;id = scope.row.id;\"  type=\"text\" size=\"small\">处理</el-button>\n                           </div>\n                           <div v-else>\n                               <el-button class=\"sys-text-Btn\" @click=\"_getOrderDetail(scope.row.id)\"  type=\"text\" size=\"small\">查看</el-button>                               \n                           </div>\n                       </template>\n                    </el-table-column> \n                </template>\n                <!-- 承兑商平台订单管理列表 -->\n                <template v-else>\n                    <el-table-column align=\"center\"\n                      type=\"index\"\n                      label=\"序号\"\n                      width=\"50\">\n                    </el-table-column>  \n                    <el-table-column\n                      prop=\"orderNum\"\n                      label=\"订单号\"\n                      min-width=\"100\"\n                      align=\"center\">                      \n                    </el-table-column>\n                    <el-table-column\n                      prop=\"user\"\n                      label=\"用户姓名\"\n                      min-width=\"120\"\n                      align=\"center\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"amount\"\n                      label=\"订单金额（CNY）\"\n                      align=\"center\"\n                      min-width=\"80\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"currency\"\n                      label=\"订单金额（USDT）\"\n                      align=\"center\"\n                      min-width=\"80\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"payTime\"\n                      label=\"支付时间\"\n                      align=\"center\"\n                      min-width=\"90\">\n                    </el-table-column>                                        \n                    <el-table-column\n                      label=\"订单状态\"\n                      prop=\"status\"\n                      class-name=\"operator-row\"\n                      align=\"center\"\n                      min-width=\"75\">\n                      <template slot-scope=\"scope\" >\n                          <el-tag v-if=\"scope.row.status.code === 2\"  size=\"medium\" type=\"info\">\n                            {{scope.row.status.title}}\n                          </el-tag>\n                          <el-tag v-else-if=\"scope.row.status.code === 7\"  size=\"medium\" type=\"success\">\n                            {{scope.row.status.title}}\n                          </el-tag>\n                          <el-tag v-else-if=\"scope.row.status.code === 9\"  size=\"medium\" type=\"danger\">\n                            {{scope.row.status.title}}\n                          </el-tag>\n                          <el-tag v-else-if=\"scope.row.status.code === 4\"  size=\"medium\" type=\"warning\">\n                            {{scope.row.status.title}}\n                          </el-tag>\n                          <el-tag v-else  size=\"medium\">\n                            {{scope.row.status.title}}\n                          </el-tag>                                                                                                                                \n                      </template>\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"commission\"\n                      label=\"佣金\"\n                      align=\"center\"\n                      min-width=\"70\">\n                    </el-table-column>\n                    <el-table-column\n                      label=\"操作\"\n                      align=\"center\"\n                      min-width=\"170\"\n                      class-name=\"operator-row\"\n                      >\n                       <template slot-scope=\"scope\" >\n                         <el-button  @click=\"_getOrderDetail(scope.row.id)\"  type=\"primary\" class=\"sys-defalut-Btn\" size=\"mini\">查看</el-button> \n                         <el-button v-if=\"scope.row.status.code == 2\"  @click=\"cancealOrder(scope.row.id)\" class=\"sys-defalut-Btn\"  type=\"warning\" size=\"mini\">取消订单</el-button>\n                         <template v-else-if=\"scope.row.status.code == 3\">\n                           <el-button   @click=\"confirmOrder(scope.row.id)\"  type=\"success\" class=\"sys-defalut-Btn\" size=\"mini\">确认订单</el-button>\n                           <el-button   @click=\"remarkErrorDialog = true;id = scope.row.id\" class=\"sys-defalut-Btn\"  type=\"danger\" size=\"mini\">标记异常</el-button>\n                         </template>                        \n                       </template>\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"remark\"\n                      label=\"异常备注\"\n                      align=\"center\"\n                      min-width=\"80\">\n                    </el-table-column> \n                </template>                \n            </el-table>\n            <div class=\"footerbottom-bottom\">\n            <div class=\"total-title\" v-show=\"total\">\n            <span class=\"total-count\">2个小时内不确认订单，系统将自动确认订单，并将订单放入结算管理</span>\n            </div>    \n             <el-pagination\n                class=\"pagination\"\n                background\n                layout=\"prev, pager, next\"\n                :page-size=\"per_page\"\n                :hide-on-single-page=\"orderList.length<15\"\n                :total=\"total\"\n                :current-page.sync=\"condition.page\"\n                @current-change=\"handleCurrentPage\">\n             </el-pagination>            \n            </div>             \n           </div>               \n        </div>\n       <el-dialog class=\"dialog\"\n           v-if=\"orderDetail\"\n           id=\"order-dialog\"\n           title=\"订单详情\"\n           :visible.sync=\"detailDialogShow\"\n           width=\"50%\"\n           >\n           <el-steps v-if=\"orderDetail.isCancel\"  :active=\"activeIndex\" class=\"order-detail-step\" align-center>\n               <el-step class=\"errorStep\" title=\"订单已取消\" description=\"2019年05月05日16:03:30\"></el-step>\n           </el-steps> \n           <el-steps v-else-if=\"orderDetail.isAbnormal\"  :active=\"activeIndex\" class=\"order-detail-step\" align-center>\n               <el-step class=\"errorStep\" title=\"订单异常\" description=\"2019年05月05日16:03:30\"></el-step>\n           </el-steps>                                 \n           <el-steps  v-else :active=\"activeIndex\" class=\"order-detail-step\" align-center>\n              <el-step  title=\"待支付\"  :description=\"orderDetail.orderProgress.confirmTime.hasOwnProperty('payTime')?orderDetail.orderProgress.confirmTime.payTime.time:''\"></el-step>\n              <el-step  title=\"确认收款\" :description=\"orderDetail.orderProgress.confirmTime.hasOwnProperty('settlementTime')?orderDetail.orderProgress.confirmTime.settlementTime.time:''\"></el-step>\n              <el-step title=\"订单完成\" :description=\"orderDetail.orderProgress.confirmTime.hasOwnProperty('confrimOrderTime')?orderDetail.orderProgress.confirmTime.settlementTime.time:''\"></el-step>\n           </el-steps>\n           <div id=\"order-info\" class=\"info-wrap\">\n               <span class=\"info-wrap-title\">订单信息</span>\n                   <el-row class=\"info-wrap-item\">\n                       <el-col :span=\"10\"><span>订单编号：{{orderDetail.orderInfo.orderNum}}</span></el-col>\n                       <el-col :span=\"8\" :offset=\"6\"><span>支付方式：{{orderDetail.orderInfo.payType}}</span></el-col>                        \n                   </el-row>\n                   <el-row class=\"info-wrap-item\">\n                       <el-col :span=\"10\"><span>支付账户：{{orderDetail.orderInfo.payer}}</span></el-col>\n                       <el-col :span=\"8\" :offset=\"6\"><span>支付时间：{{orderDetail.orderInfo.payTime}}</span></el-col>                        \n                   </el-row>\n                   <el-row class=\"info-wrap-item\">\n                       <el-col :span=\"10\"><span>交易流水号：{{orderDetail.orderInfo.pipelineNum}}</span></el-col>\n                       <el-col :span=\"8\" :offset=\"6\"><span>付款金额：{{orderDetail.orderInfo.amount}}元</span></el-col>                        \n                   </el-row>\n                   <el-row class=\"info-wrap-item\">\n                       <el-col :span=\"10\"><span>付款人姓名：{{orderDetail.orderInfo.username}}</span></el-col>                     \n                   </el-row>                              \n           </div>\n           <div id=\"tokenism-info\" class=\"info-wrap\" >\n               <span class=\"info-wrap-title\">分润信息</span>\n                   <el-row  class=\"info-wrap-item\" v-if=\"orderDetail.orderSettlement.acceptance\">\n                       <el-col :span=\"8\"><span>承兑商名称：{{orderDetail.orderSettlement.acceptance.platformName}}</span></el-col>\n                       <el-col :span=\"8\" ><span>账号：{{orderDetail.orderSettlement.acceptance.account}}</span></el-col>\n                       <el-col :span=\"8\" ><span>佣金：{{orderDetail.orderSettlement.acceptance.commission}}usdt</span></el-col>                           \n                   </el-row>\n                   <el-row class=\"info-wrap-item\" v-if=\"orderDetail.orderSettlement.channel\">\n                       <el-col :span=\"8\"><span>渠道商名称：{{orderDetail.orderSettlement.channel.platformName}}</span></el-col>\n                       <el-col :span=\"8\" ><span>账号：{{orderDetail.orderSettlement.channel.account}}</span></el-col>\n                       <el-col :span=\"8\" ><span>佣金：{{orderDetail.orderSettlement.channel.commission}}usdt</span></el-col>                        \n                   </el-row>\n                   <el-row class=\"info-wrap-item\" v-if=\"orderDetail.orderSettlement.merchant\">\n                       <el-col :span=\"8\"><span>商户名称：{{orderDetail.orderSettlement.merchant.platformName}}</span></el-col>\n                       <el-col :span=\"8\" ><span>账号：{{orderDetail.orderSettlement.merchant.account}}</span></el-col>\n                       <el-col :span=\"8\" ><span>佣金：{{orderDetail.orderSettlement.merchant.commission}}usdt</span></el-col>                        \n                   </el-row>\n                   <el-row class=\"info-wrap-item\">\n                       <el-col :span=\"8\"><span>平台佣金：{{orderDetail.orderSettlement.commission}}usdt</span></el-col>                     \n                   </el-row>\n                   <el-row class=\"info-wrap-item\" id=\"tokenism-time\">\n                       <el-col :span=\"12\"><span>分润时间：{{orderDetail.orderSettlement.settlementTime}}</span></el-col>                     \n                   </el-row>                                                                     \n           </div>\n           <div id=\"action-log\" class=\"info-wrap\">\n               <span class=\"info-wrap-title\">操作记录</span>\n                  <template v-if=\"orderDetail.confirm.length\">\n                      <div  v-for=\"item in orderDetail.confirm\" :key=\"item.confirmUser\">\n                         <el-row  class=\"info-wrap-item\">\n                             <el-col :span=\"8\"><span>① {{item.behavior}}</span></el-col>                         \n                         </el-row>\n                         <el-row class=\"info-wrap-item sub-item\">\n                             <el-col :span=\"10\"><span>操作人：{{item.confirmUser}}</span></el-col>\n                             <el-col :span=\"8\" :offset=\"6\"><span>操作时间：{{item.confirmTime}}</span></el-col>                        \n                         </el-row>\n                         <el-row class=\"info-wrap-item sub-item\">\n                             <el-col :span=\"10\"><span>操作备注：无</span></el-col>                     \n                         </el-row>                     \n                      </div>\n                  </template>\n                  <span v-else>无</span> \n           </div>\n            <span slot=\"footer\" class=\"dialog-footer\">\n             <el-button class=\"sys-Btn\" type=\"primary\" @click=\"detailDialogShow = false\">确 定</el-button>\n           </span>                      \n        </el-dialog>\n       <el-dialog class=\"dialog\" \n           id=\"deal-dialog\"\n           title=\"处理\"\n           :visible.sync=\"dealDialogShow\"\n           width=\"30%\"\n           >\n           <div id=\"deal-dialog-wrap\">\n              <div class=\"dialog-radio\">\n                <el-radio v-model=\"state\"  label=\"1\">取消订单</el-radio>\n              </div>\n              <div class=\"dialog-radio\">\n                <el-radio v-model=\"state\" label=\"2\">重制订单状态</el-radio>\n              </div>\n              <div class=\"dialog-radio\">\n                <el-radio v-model=\"state\" label=\"3\">确认收款</el-radio>\n              </div>\n           </div>                                        \n            <span slot=\"footer\" class=\"dialog-footer\">\n             <el-button class=\"sys-Btn\" type=\"primary\" @click=\"confirmDeal(id)\">确 定</el-button>\n           </span>                      \n        </el-dialog>\n      <el-dialog \n           v-if=\"$store.state.userData.platform === 'acceptance'\"\n           class=\"dialog\"\n           id=\"remarkErrorDialog\"\n           title='提示'\n           :visible.sync=\"remarkErrorDialog\"\n           width=\"25%\"\n           center\n           >\n        <div id=\"commission-dialog-wrap\">\n           <el-form :model=\"errorInfoForm\"  ref=\"errorInfoForm\" label-width=\"auto\" size=\"medium\" label-position=\"top\" class=\"demo-ruleForm\">\n               <el-form-item label=\"异常说明：\">\n                    <el-input type=\"textarea\" resize=\"none\" v-model=\"errorInfoForm.remark\"></el-input>\n               </el-form-item>                                                \n           </el-form>\n        </div>   \n           <span slot=\"footer\" class=\"dialog-footer\">\n             <el-button class=\"sys-Btn\" type=\"primary\" @click=\"submitErrorIntro\" >确 定</el-button>               \n             <el-button id=\"cancealBtn\" @click=\"remarkErrorDialog= false\">取 消</el-button>\n           </span>\n       </el-dialog>        \n    </div>\n</template>\n<script>\nimport { async } from 'q';\nexport default {\n    data() {\n        return {\n            detailDialogShow: false,\n            remarkErrorDialog: false,\n            state:'',\n            dealDialogShow: false,\n            timeSlotArr: [{title:\"今天\",value:1}, {title:\"昨天\",value:2}, {title:\"近一周\",value:3}, {title:\"近一月\",value:4}, {title:\"全部\",value:5}],\n            id:0,\n            condition: {\n              timeSlot: 1,\n              searchType: 1,\n              type: \"\",\n              page: null,\n              keyword:'',\n            },\n            errorInfoForm: {\n              remark: ''\n            },\n            activeIndex: 0,\n            per_page:0,\n            total:0,\n            orderList: [],\n            orderDetail: null\n        }\n    },\n    methods:{\n        /*\n        **获取订单列表\n        */\n        async _getOrderList(){\n         let resData =  await this.http.get(`${this.common.basePath}/order/orderLists.api`, this.condition)\n         if(resData.code === 200){\n         this.orderList = resData.data.data\n         this.per_page = resData.data.per_page\n         this.total = resData.data.total\n         this.current_page = resData.data.current_page\n         }\n\n        },\n        /*\n        **处理改变页数事件\n        */\n        async handleCurrentPage(cur){\n           this.condition.page = cur\n           await this._getOrderListByConditon(this.condition)\n        },\n        /*\n        **选择日期请求订单事件\n        */\n        async handleChooseTimeSlot(value){\n          this.condition.timeSlot = value\n          this.condition.page = 1\n          await this._getOrderListByConditon(this.condition)\n        },\n        /*\n        **处理下拉订单状态事件\n        */\n        async handleSelectType(value){\n          this.condition.type = value\n          this.condition.page = 1\n          await this._getOrderListByConditon(this.condition)\n        },\n        /*\n        **处理下拉渠道名称事件\n        */\n        async handleSelectSearchType(value){\n          this.condition.searchType = value\n          this.condition.page = 1\n          await this._getOrderListByConditon(this.condition)\n        },\n        /*\n        **处理搜索点击事件\n        */\n        async handleSearchClick(value){\n          this.condition.keyword = value\n          await this._getOrderListByConditon(this.condition)\n          this.condition.page = 1\n        },\n        /*\n        **根据条件请求订单列表\n        */\n       async _getOrderListByConditon(conditon){\n          const _conditon = conditon\n          if(this.$store.state.userData.platform === 'acceptance'){\n            if(_conditon.hasOwnProperty('searchType'))\n            delete _conditon.searchType\n          }\n          let resData = await this.http.get('/order/orderLists.api', _conditon)\n          if(resData.code === 200){\n          this.orderList = resData.data.data\n          this.per_page = resData.data.per_page\n          this.total = resData.data.total\n          this.current_page = 1            \n          }\n\n       },\n       /*\n       **确定处理\n       */\n       async confirmDeal(id){\n         let _id = id\n        let resData = await this.http.get('/order/handlingExceptionalOrders', {id: _id,action: this.state})\n        if(resData.code === 200){\n          this.$message.success(resData.msg)\n          await this._getOrderList()\n          this.dealDialogShow = false\n        }\n       },\n       /*\n       **确定提交异常说明\n       */ \n      async submitErrorIntro(){\n        let data = {\n          remark: this.errorInfoForm.remark,\n          id: this.id\n        }\n        let resData = await this.http.post('/order/MarkExceptionalOrder', data)\n        if(resData.code === 200){\n          this.$message.success(resData.msg)\n          this.$refs.errorInfoForm.resetFields()\n          this._getOrderListByConditon(this.condition)\n        }\n      },\n       /*\n       **承兑商取消订单\n       */      \n      async cancealOrder(id){\n        let _id = id\n        let resData = await this.http.get('order/cancelOrder', {id: _id})\n        if(resData.code === 200){\n          this.$message.success(resData.msg)\n          this._getOrderListByConditon(this.condition)\n        }\n      },\n       /*\n       **承兑商确认订单\n       */\n      async confirmOrder(id){\n        let _id = id\n        let resData = await this.http.get('order/confirmOrder', {id: _id})\n        if(resData.code === 200){\n          this.$message.success(resData.msg)\n          this._getOrderListByConditon(this.condition)\n        }\n      },\n       /*\n       **获取订单详情\n       */\n      async _getOrderDetail(id){\n        {\n          let _id = id\n          let resData = {}\n          if(this.$store.state.userData.platform === 'stark'){\n            resData = await this.http.get('order/starkOrderDetail', {id: _id})\n          } else {\n            resData = await this.http.get('order/acceptanceOrderDetail', {id: _id})\n          }\n          console.log(resData)\n          if(resData.code === 200){\n            this.orderDetail = resData.data\n            this.activeIndex =  Object.keys(this.orderDetail.orderProgress).length?this.orderDetail.orderProgress.orderProgressAction-1:0\n            this.detailDialogShow = true\n          }\n      }                   \n\n    },\n},\n    async mounted() {\n      let query = this.$route.query\n      if(Object.keys(query).length){\n        for (const key in query) {\n          if (this.condition.hasOwnProperty(key)) {\n            this.condition[key] = query[key]\n          }\n        }\n      }\n      await this._getOrderListByConditon(this.condition)\n    },\n}\n</script>\n<style lang=\"less\" scoped>\n.contain-footer{\n   \n    .state-input{\n        width: 10vw;\n        margin-right: 1.25rem;\n    }\n    .order-input{\n        width: 12vw;\n        margin-right: 1.25rem;\n    }\n    #table\n    {\n        width: 100%;\n        height: 45vh;\n        min-height: 0%\n    }\n}\n\n.info-wrap{\n    display: flex;\n    padding: 0 4.3333rem;\n    flex-direction: column;\n    justify-content: space-evenly;\n    width: auto;\n    border-top: 1px dashed #E6E6E6;\n    .info-wrap-title{\n        color: #333333;\n        font-weight:  bold;\n        font-size: 1.5rem;\n    }\n    .info-wrap-item{\n        font-size: 1.3333rem;\n        margin-bottom: 0.625rem;\n        color: #333333;\n    }\n\n\n}\n#order-info{\n    height: 19.4167rem;\n    margin-top: 3.75rem;\n}\n#tokenism-info{\n    height: 27.3333rem;\n    #tokenism-time{\n      font-size: 1.8333rem;\n      color: #333333;\n    }\n}\n#action-log{\n  padding-top: 2.5rem;\n  min-height: 3.125rem;\n  .sub-item{\n    color: #999999;\n  }\n  .info-wrap-title{\n    margin-bottom: 0.83rem;\n  }\n\n}\n#deal-dialog{\n  #deal-dialog-wrap{\n    padding: 1.6667rem 3.6667rem;\n    padding-bottom: 0; \n }\n .dialog-radio{\n   margin-bottom: 1.6667rem;\n\n   &:last-child\n   {\n     margin-bottom: 0;\n   }\n   .el-radio{\n      margin-right: 1.25rem;\n     font-size: 1.3333rem;\n     color: #333333;\n     font-weight: normal;\n   }\n }\n}\n\n</style>\n<style lang=\"less\">\n#remarkErrorDialog{\n  .el-dialog__body{\n    padding-top: 0;\n    margin-bottom: 20px;\n  }\n}\n\n.errorStep{\n  .el-step__title{\n    color: #F56C6C !important;\n    border-color: #F56C6C !important;\n  }\n  .el-step__head {\n    color: #F56C6C !important;\n    border-color: #F56C6C !important;    \n  }\n}\n.operator-row{\n  .cell{\n    padding: 0;\n    display: flex;\n    justify-content: center;\n    .el-button{\n      margin-left: 5px;\n      &:first-child{\n        margin-left: 0;\n      }\n    }\n  }\n\n}\n</style>\n\n"],"sourceRoot":"src/views/contractor"}]}