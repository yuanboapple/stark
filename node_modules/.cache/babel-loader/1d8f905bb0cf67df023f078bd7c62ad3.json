{"remainingRequest":"/Users/mac/Desktop/222/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js!/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!/Users/mac/Desktop/222/src/views/contractor/ContractorList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/Desktop/222/src/views/contractor/ContractorList.vue","mtime":1561010254000},{"path":"/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_babel-loader@8.0.6@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/Desktop/222/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/mac/Desktop/222/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { async } from 'q';\nexport default {\n  data: function data() {\n    var _this = this;\n\n    var accountValidate = function accountValidate(rule, value, callback) {\n      if (value === '') {\n        callback(new Error('请输入用户名'));\n      } else {\n        if (_this.common.mobileReg.test(value)) {\n          callback();\n        } else {\n          callback(new Error('请输入合法的手机号'));\n        }\n      }\n    };\n\n    var repasswordValidate = function repasswordValidate(rule, value, callback) {\n      if (value === '') {\n        callback(new Error('请再次输入密码'));\n      } else {\n        if (value !== _this.form.password) {\n          callback(new Error('两次输入的密码不一致'));\n        } else {\n          callback();\n        }\n      }\n    };\n\n    return {\n      conditon: {\n        keyword: '',\n        page: 1\n      },\n      isEdit: false,\n      contractorList: [],\n      commisionDialogShow: false,\n      setCommisionDiaShow: false,\n      setFrozenDialog: false,\n      total: 0,\n      frozenDate: '',\n      dateString: '',\n      form: {\n        tel: '',\n        platformName: '',\n        type: 0,\n        industry: '',\n        password: '',\n        repassword: '',\n        id: null\n      },\n      rules: {\n        tel: [{\n          required: true,\n          validator: accountValidate,\n          trigger: 'blur'\n        }],\n        platformName: [{\n          required: true,\n          message: '请输入承兑商名称',\n          trigger: 'blur'\n        }, {\n          min: 2,\n          message: '名称不少于2位',\n          trigger: 'blur'\n        }],\n        type: [{\n          required: true,\n          message: '请选择用户类型',\n          trigger: 'change'\n        }],\n        industry: [{\n          required: true,\n          message: '请选择行业',\n          trigger: 'change'\n        }],\n        password: [{\n          required: true,\n          message: '请输入密码',\n          trigger: 'blur'\n        }, {\n          min: 6,\n          max: 20,\n          message: \"密码长度不少于6且不大于20\",\n          trigger: 'blur'\n        }],\n        repassword: [{\n          required: true,\n          validator: repasswordValidate,\n          trigger: 'blur'\n        }, {\n          min: 6,\n          max: 20,\n          message: \"密码长度不少于6且不大于20\",\n          trigger: 'blur'\n        }]\n      },\n      commisionForm: {\n        account: '',\n        rate: ''\n      },\n      commisionRules: {\n        account: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }],\n        rate: [{\n          required: true,\n          message: '请输入佣金比例',\n          trigger: 'blur'\n        }]\n      }\n    };\n  },\n  methods: {\n    addUser: function addUser() {\n      this.commisionDialogShow = true;\n    },\n\n    /*\n    **处理搜素事件\n    */\n    handleSearchClick: function () {\n      var _handleSearchClick = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this._getContractorLst(this.conditon);\n\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function handleSearchClick() {\n        return _handleSearchClick.apply(this, arguments);\n      }\n\n      return handleSearchClick;\n    }(),\n\n    /*\n    **处理新增用户事件\n    */\n    handleAddUser: function () {\n      var _handleAddUser = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var body, resData;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                body = this.form;\n                body.platform = 1;\n                _context2.next = 4;\n                return this.http.post(\"\".concat(this.common.basePath, \"/platform/createNewPlatform.api\"), body);\n\n              case 4:\n                resData = _context2.sent;\n\n                if (resData.code === 200) {\n                  this.$message.success(\"注册成功\");\n                  this.commisionDialogShow = false;\n\n                  this._getContractorLst(this.conditon);\n                }\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function handleAddUser() {\n        return _handleAddUser.apply(this, arguments);\n      }\n\n      return handleAddUser;\n    }(),\n\n    /*\n    **网络获取承兑商列表\n    */\n    _getContractorLst: function () {\n      var _getContractorLst2 = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(conditon) {\n        var _conditon, resData;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _conditon = conditon;\n                _context3.next = 3;\n                return this.http.get('/platform/acceptanceLists', conditon);\n\n              case 3:\n                resData = _context3.sent;\n\n                if (resData.code === 200) {\n                  this.contractorList = resData.data.data;\n                  this.conditon.page = resData.data.current_page;\n                  this.total = resData.data.total;\n                }\n\n              case 5:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function _getContractorLst(_x) {\n        return _getContractorLst2.apply(this, arguments);\n      }\n\n      return _getContractorLst;\n    }(),\n\n    /*\n     **处理冻结平台账户事件\n     */\n    handleFrozenAccount: function () {\n      var _handleFrozenAccount = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4(id, index) {\n        var _index, platformId, resData;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _index = index;\n                platformId = id;\n                _context4.next = 4;\n                return this.http.get('/platform/frozenPlatform', {\n                  id: platformId\n                });\n\n              case 4:\n                resData = _context4.sent;\n\n                if (resData.code === 200) {\n                  this.$message.success(\"禁用成功\");\n                  this.contractorList[_index].isFrozen = true;\n                  this.contractorList[_index].isActive = false;\n                }\n\n              case 6:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function handleFrozenAccount(_x2, _x3) {\n        return _handleFrozenAccount.apply(this, arguments);\n      }\n\n      return handleFrozenAccount;\n    }(),\n\n    /*\n     **处理启动平台账户事件\n     */\n    handleEnableAccount: function () {\n      var _handleEnableAccount = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee5(id, index) {\n        var _index, platformId, resData;\n\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _index = index;\n                platformId = id;\n                _context5.next = 4;\n                return this.http.get('/platform/enablePlatform', {\n                  id: platformId\n                });\n\n              case 4:\n                resData = _context5.sent;\n\n                if (resData.code === 200) {\n                  this.$message.success(resData.msg);\n                  this.contractorList[_index].isFrozen = false;\n                  this.contractorList[_index].isActive = true;\n                }\n\n              case 6:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function handleEnableAccount(_x4, _x5) {\n        return _handleEnableAccount.apply(this, arguments);\n      }\n\n      return handleEnableAccount;\n    }(),\n\n    /*\n    **处理分页当前页改变事件\n    */\n    handleCurrentchange: function handleCurrentchange(val) {\n      this.conditon.page = val;\n\n      this._getContractorLst(this.conditon);\n    },\n\n    /*\n    **处理确定设置佣金事件\n    */\n    handleConfirmSetCommis: function () {\n      var _handleConfirmSetCommis = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee6() {\n        var param, resData;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                param = {\n                  type: 1,\n                  tel: this.commisionForm.account,\n                  proportion: this.commisionForm.rate\n                };\n                _context6.next = 3;\n                return this.http.get('/platform/setAcceptanceComsion', param);\n\n              case 3:\n                resData = _context6.sent;\n\n                if (resData.code == 200) {\n                  this.$message.success(resData.msg);\n                }\n\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function handleConfirmSetCommis() {\n        return _handleConfirmSetCommis.apply(this, arguments);\n      }\n\n      return handleConfirmSetCommis;\n    }(),\n\n    /*\n    **修改用户\n    */\n    handleEditUser: function () {\n      var _handleEditUser = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee7(id) {\n        var _id, resData;\n\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _id = id;\n                this.isEdit = true;\n                this.commisionDialogShow = true;\n                _context7.next = 5;\n                return this.http.get('/platform/acceptanceDetail', {\n                  id: _id\n                });\n\n              case 5:\n                resData = _context7.sent;\n                this.form.tel = resData.tel;\n                this.form.platformName = resData.platformName;\n                this.form.industry = resData.industry;\n                this.form.type = resData.company;\n                this.form.id = _id;\n\n              case 11:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function handleEditUser(_x6) {\n        return _handleEditUser.apply(this, arguments);\n      }\n\n      return handleEditUser;\n    }(),\n\n    /*\n    **确认修改用户\n    */\n    handleConfirmEditUser: function () {\n      var _handleConfirmEditUser = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee8() {\n        var data, resData;\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                data = {\n                  id: this.form.id,\n                  tel: this.form.tel,\n                  platformName: this.form.platformName,\n                  company: this.form.type,\n                  industry: this.form.industry,\n                  password: this.form.password,\n                  repassword: this.form.repassword\n                };\n                _context8.next = 3;\n                return this.http.post('/platform/editAcceptance', data);\n\n              case 3:\n                resData = _context8.sent;\n\n                if (!(resData.code === 200)) {\n                  _context8.next = 9;\n                  break;\n                }\n\n                this.$message.success(resData.msg);\n                this.commisionDialogShow = false;\n                _context8.next = 9;\n                return this._getContractorLst(this.conditon);\n\n              case 9:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function handleConfirmEditUser() {\n        return _handleConfirmEditUser.apply(this, arguments);\n      }\n\n      return handleConfirmEditUser;\n    }(),\n\n    /*\n    **取消修改/增加用户\n    */\n    cancealCommisionDialog: function cancealCommisionDialog() {\n      this.commisionDialogShow = false;\n      this.$refs.form.resetFields();\n    },\n\n    /*\n    **承兑冻结保证金\n    */\n    frozenBond: function () {\n      var _frozenBond = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee9(id) {\n        var _id, resData;\n\n        return regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _id = id;\n                _context9.next = 3;\n                return this.http.get('/platform/frozenBond', {\n                  id: _id\n                });\n\n              case 3:\n                resData = _context9.sent;\n\n                if (resData.code === 200) {\n                  this.$message.success(resData.msg);\n\n                  this._getContractorLst(this.conditon);\n                }\n\n              case 5:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function frozenBond(_x7) {\n        return _frozenBond.apply(this, arguments);\n      }\n\n      return frozenBond;\n    }(),\n\n    /*\n    **承兑解冻保证金\n    */\n    thawBond: function () {\n      var _thawBond = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee10(id) {\n        var _id, resData;\n\n        return regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _id = id;\n                _context10.next = 3;\n                return this.http.get('/platform/thawBond', {\n                  id: _id\n                });\n\n              case 3:\n                resData = _context10.sent;\n\n                if (resData.code === 200) {\n                  this.$message.success(resData.msg);\n\n                  this._getContractorLst(this.conditon);\n                }\n\n              case 5:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function thawBond(_x8) {\n        return _thawBond.apply(this, arguments);\n      }\n\n      return thawBond;\n    }(),\n\n    /*\n    **冻结可提现\n    */\n    frozendrawAmount: function () {\n      var _frozendrawAmount = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee11(id, time) {\n        var _id, _time, resData;\n\n        return regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _id = id;\n                _time = time;\n                _context11.next = 4;\n                return this.http.get('/platform/frozenCashBalance', {\n                  id: _id,\n                  drawTime: _time\n                });\n\n              case 4:\n                resData = _context11.sent;\n\n                if (!(resData.code === 200)) {\n                  _context11.next = 10;\n                  break;\n                }\n\n                this.$message.success(resData.msg);\n                _context11.next = 9;\n                return this._getContractorLst(this.conditon);\n\n              case 9:\n                this.setFrozenDialog = false;\n\n              case 10:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function frozendrawAmount(_x9, _x10) {\n        return _frozendrawAmount.apply(this, arguments);\n      }\n\n      return frozendrawAmount;\n    }(),\n\n    /*\n    **解冻可提现\n    */\n    thawdrawAmount: function () {\n      var _thawdrawAmount = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee12(id, time) {\n        var _id, _time, resData;\n\n        return regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _id = id;\n                _time = time;\n                _context12.next = 4;\n                return this.http.get('/platform/drawCashBalance', {\n                  id: _id,\n                  drawTime: _time\n                });\n\n              case 4:\n                resData = _context12.sent;\n\n                if (!(resData.code === 200)) {\n                  _context12.next = 9;\n                  break;\n                }\n\n                this.$message.success(resData.msg);\n                _context12.next = 9;\n                return this._getContractorLst(this.conditon);\n\n              case 9:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      function thawdrawAmount(_x11, _x12) {\n        return _thawdrawAmount.apply(this, arguments);\n      }\n\n      return thawdrawAmount;\n    }(),\n\n    /*\n    **确认选择的时间\n    */\n    frozendateChange: function frozendateChange(value) {\n      var currentTimeStamp = new Date().getTime();\n\n      if (value.getTime() < currentTimeStamp) {\n        this.$message.error(\"冻结不得早于当前时间\");\n        this.frozenDate = '';\n        this.dateString = '';\n        this.setFrozenDialog = false;\n      } else {\n        this.dateString = this.common.formatDate(value);\n      }\n    },\n\n    /*\n    **取消设置冻结\n    */\n    concrealfrozendate: function concrealfrozendate() {\n      this.frozenDate = '';\n      this.dateString = '';\n      this.setFrozenDialog = false;\n    },\n\n    /*\n    **跳转订单管理\n    */\n    handlePushOrderMang: function handlePushOrderMang(name) {\n      var _name = name;\n      this.$router.push({\n        name: 'orderManage',\n        query: {\n          searchType: 2,\n          keyword: _name\n        }\n      });\n    }\n  },\n  mounted: function () {\n    var _mounted = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee13() {\n      return regeneratorRuntime.wrap(function _callee13$(_context13) {\n        while (1) {\n          switch (_context13.prev = _context13.next) {\n            case 0:\n              _context13.next = 2;\n              return this._getContractorLst(this.conditon);\n\n            case 2:\n            case \"end\":\n              return _context13.stop();\n          }\n        }\n      }, _callee13, this);\n    }));\n\n    function mounted() {\n      return _mounted.apply(this, arguments);\n    }\n\n    return mounted;\n  }()\n};",{"version":3,"sources":["ContractorList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div>\n         <div class=\"contain-head\">\n            <div class=\"head-pre\"></div>\n            <span class=\"head-title\">承兑商列表</span>\n        </div>\n        <div class=\"contain-footer\">\n             <div class=\"contain-footer-top\">\n               <div class=\"contain-footer-topl\"> \n                  <el-button class=\"sys-Btn\" @click=\"addUser\" type=\"primary\">新增用户</el-button>                                                                          \n               </div>\n               <div class=\"contain-footer-topr\">\n                 <el-input v-model=\"conditon.keyword\" class=\"searchTool\">\n                       <i\n                        class=\"el-icon-search el-input__icon\"\n                        slot=\"suffix\"\n                        @click=\"handleSearchClick\">\n                       </i>\n                 </el-input>\n               </div>\n            </div>\n            <div class=\"contain-footer-bottom\">            \n                <el-table\n                    :data=\"contractorList\"\n                    border\n                    style=\"width: 100%\">\n                    <el-table-column align=\"center\"\n                      type=\"index\"\n                      label=\"ID\"\n                      width=\"50\">\n                    </el-table-column>  \n                    <el-table-column\n                      prop=\"account\"\n                      label=\"账号\"\n                      width=\"150\"\n                      align=\"center\">                      \n                    </el-table-column>\n                    <el-table-column\n                      prop=\"name\"\n                      label=\"承兑扇名称\"\n                      width=\"120\"\n                      align=\"center\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"company\"\n                      label=\"用户类型\"\n                      align=\"center\"\n                      width=\"100\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"industry\"\n                      label=\"行业\"\n                      align=\"center\"\n                      width=\"100\">\n                    </el-table-column>\n                    <el-table-column\n                      prop=\"registerTime\"\n                      label=\"注册时间\"\n                      align=\"center\"\n                      min-width=\"200\">\n                    </el-table-column>                                        \n                    <el-table-column\n                      label=\"保证金（余额）\"\n                      prop=\"bond\"\n                      align=\"center\"\n                      width=\"180\">\n                      <template slot-scope=\"scope\">\n                        {{scope.row.bond}}\n                        <el-button v-if=\"!scope.row.frozenBond\" class=\"smini-button\" type=\"primary\"   @click=\"frozenBond(scope.row.id)\" >冻结</el-button>\n                        <el-button class=\"smini-button\" v-else @click=\"thawBond(scope.row.id)\" type=\"success\" >解冻</el-button>\n                      </template>                                                                                                                               \n                    </el-table-column>\n                    <el-table-column\n                      prop=\"withdrawAmount\"\n                      label=\"可提现\"\n                      align=\"center\"\n                      min-width=\"160\">\n                      <template slot-scope=\"scope\">\n                        {{scope.row.withdrawAmount}}\n                        <el-button class=\"smini-button\" @click=\"setFrozenDialog = true;form.id = scope.row.id;\" type=\"primary\" v-if=\"!scope.row.frozenWithdraw\">冻结</el-button>\n                        <el-button class=\"smini-button\" @click=\"thawdrawAmount(scope.row.id, scope.row.thawWithdrawTime)\" type=\"success\" v-else>解冻</el-button>                      \n                        <div v-if=\"scope.row.frozenWithdraw\"><span class=\"frozenTime-time\">{{scope.row.thawWithdrawTime}} 解冻</span></div>\n                      </template>\n                    </el-table-column>\n                    <el-table-column\n                      label=\"操作\"\n                      align=\"center\"\n                      min-width=\"280\">\n                       <template slot-scope=\"scope\">\n                           <div>\n                              <el-button  class=\"sys-text-Btn\"   type=\"text\" @click=\"handleEditUser(scope.row.id)\" size=\"small\">编辑</el-button>\n                              <el-button class=\"sys-text-Btn\"  type=\"text\" size=\"small\" @click=\"commisionForm.account=scope.row.account;setCommisionDiaShow = true\">设置佣金</el-button>\n                              <el-button class=\"sys-text-Btn\"  type=\"text\"  size=\"small\" @click=\"handlePushOrderMang(scope.row.name)\"  >订单管理</el-button>\n                              <el-button id=\"disableAcount\" v-if=\"scope.row.isFrozen\" @click=\"handleEnableAccount(scope.row.id, scope.$index)\"   size=\"mini\" type=\"success\">启用</el-button>\n                              <el-button id=\"disableAcount\" v-else @click=\"handleFrozenAccount(scope.row.id, scope.$index)\"   size=\"mini\" type=\"danger\">禁用账户</el-button>                              \n                           </div>\n                       </template>\n                    </el-table-column>\n                    <el-table-column \n                      label=\"状态\"\n                      align=\"center\"\n                      width=\"100\">\n                      <template slot-scope=\"scope\">\n                         <span v-if=\"scope.row.isActive\" class=\"activeBtn\" type=\"text\">激活</span>\n                         <span v-else type=\"text\" clas=\"no-activeBtn\">未激活</span>          \n                      </template>\n                    </el-table-column>                     \n                </el-table>\n            </div>\n            <el-pagination\n                class=\"pagination\"\n                background\n                layout=\"prev, pager, next\"\n                :hide-on-single-page=\"!contractorList.length\"\n                @current-change=\"handleCurrentchange\"\n                :current-page = \"conditon.page\"\n                :page-size=\"15\"\n                :total=\"total\">\n            </el-pagination>\n            <div style=\"clear:both;\"></div>                \n        </div>    \n      <el-dialog \n           class=\"dialog\"\n           :title=\"isEdit?'修改用户':'新增用户'\"\n           :visible.sync=\"commisionDialogShow\"\n           width=\"25%\"\n           >\n        <div id=\"commission-dialog-wrap\">\n           <el-form :model=\"form\" :rules=\"rules\" ref=\"form\" label-width=\"auto\" size=\"medium\" label-position=\"right\" class=\"demo-ruleForm\">\n               <el-form-item label=\"账户\" prop=\"tel\">\n                 <el-input v-if=\"isEdit\" disabled v-model=\"form.tel\"></el-input>\n                 <el-input v-else v-model=\"form.tel\"></el-input>\n               </el-form-item>\n               <el-form-item label=\"承兑商名称\" prop=\"platformName\">\n                 <el-input v-model=\"form.platformName\"></el-input>\n               </el-form-item> \n               <el-form-item label=\"用户类型\" prop=\"type\">\n                    <el-radio-group v-model=\"form.type\">\n                      <el-radio :label=\"0\">单位</el-radio>\n                      <el-radio :label=\"1\">个人</el-radio>\n                    </el-radio-group>\n               </el-form-item> \n               <el-form-item label=\"行业\" prop=\"industry\">\n                    <el-select v-model=\"form.industry\" placeholder=\"去选择\">\n                      <el-option label=\"金融\" value=\"金融\"></el-option>\n                      <el-option label=\"其他\" value=\"其他\"></el-option>\n                    </el-select>\n               </el-form-item>\n               <template v-if=\"!isEdit\">\n                  <el-form-item label=\"密码\" prop=\"password\">\n                    <el-input v-model=\"form.password\" type=\"password\"></el-input>  \n                  </el-form-item> \n                  <el-form-item label=\"确认密码\" prop=\"repassword\">\n                    <el-input v-model=\"form.repassword\" type=\"password\"></el-input>  \n                  </el-form-item>\n               </template>                                                                     \n           </el-form>\n        </div>   \n           <span slot=\"footer\" class=\"dialog-footer\">\n             <el-button v-if=\"isEdit\" class=\"sys-Btn\" type=\"primary\" @click=\"handleConfirmEditUser\" >修改</el-button>\n             <el-button v-else class=\"sys-Btn\" type=\"primary\" @click=\"handleAddUser\" >确 定</el-button>               \n             <el-button @click=\"cancealCommisionDialog\">取 消</el-button>\n           </span>\n       </el-dialog>\n      <el-dialog class=\"dialog\"\n           id=\"setcommisionDialog\"\n           title=\"设置冻结\"\n           :visible.sync=\"setFrozenDialog\"\n           width=\"23%\"\n           >\n              <el-date-picker\n                v-model=\"frozenDate\"\n                type=\"datetime\"\n                placeholder=\"选择冻结时间\"\n                @change=\"frozendateChange\"\n                >\n              </el-date-picker>\n              <span slot=\"footer\" class=\"dialog-footer\">\n                <el-button class=\"sys-Btn\" type=\"primary\" @click=\"frozendrawAmount(form.id, dateString)\">确 定</el-button>               \n                <el-button @click=\"concrealfrozendate\">取 消</el-button>\n              </span>\n    </el-dialog>         \n      <el-dialog class=\"dialog\"\n           id=\"setcommisionDialog\"\n           title=\"设置佣金\"\n           :visible.sync=\"setCommisionDiaShow\"\n           width=\"23%\"\n           >\n             <el-form :model=\"commisionForm\" :rules=\"commisionRules\" ref=\"commisionRules\" label-width=\"auto\" size=\"medium\" label-position=\"right\" class=\"demo-ruleForm\">\n               <el-form-item label=\"确认用户名：\" prop=\"account\">\n                 <el-input disabled :placeholder=\"commisionForm.account\" ></el-input>\n               </el-form-item>\n               <el-form-item label=\"佣金比例：\" prop=\"rate\">\n                 <el-input v-model=\"commisionForm.rate\"></el-input>  \n               </el-form-item>              \n             </el-form>\n           <span slot=\"footer\" class=\"dialog-footer\">\n             <el-button class=\"sys-Btn\" type=\"primary\" @click=\"handleConfirmSetCommis\">确 定</el-button>               \n             <el-button @click=\"setCommisionDiaShow = false\">取 消</el-button>\n           </span>\n    </el-dialog>       \n  </div>\n</template>\n<script>\nimport { async } from 'q';\n  export default {\n      data() {\n        let accountValidate = (rule, value, callback) => {\n          if(value === ''){\n            callback(new Error('请输入用户名'))\n          }\n          else {\n            if(this.common.mobileReg.test(value)){\n              callback()\n            } else {\n              callback(new Error('请输入合法的手机号'))\n            }\n          }\n        }\n        let repasswordValidate = (rule, value, callback) => {\n          if(value === '') {\n            callback(new Error('请再次输入密码'))\n          } else {\n            if(value !== this.form.password) {\n              callback(new Error('两次输入的密码不一致'))\n            } else {\n              callback()\n            }\n          }\n        }\n          return {\n          conditon: {\n            keyword: '',\n            page: 1\n          },\n          isEdit: false,\n          contractorList:[],\n          commisionDialogShow: false,\n          setCommisionDiaShow: false,\n          setFrozenDialog: false,\n          total:0,\n          frozenDate:'',\n          dateString:'',\n          form: {\n            tel: '',\n            platformName: '',\n            type: 0,\n            industry: '',\n            password: '',\n            repassword: '',\n            id: null,\n          },\n          rules: {\n              tel: [\n                  { required: true, validator: accountValidate, trigger: 'blur' },\n              ],\n              platformName: [\n                  { required: true, message: '请输入承兑商名称', trigger: 'blur' },\n                  { min: 2, message: '名称不少于2位', trigger: 'blur'}\n              ], \n              type: [\n                { required: true, message: '请选择用户类型', trigger: 'change' },\n              ],\n              industry: [\n                { required: true, message: '请选择行业', trigger: 'change' },\n              ],  \n              password: [\n                { required: true, message: '请输入密码', trigger: 'blur' },\n                { min: 6, max: 20, message: \"密码长度不少于6且不大于20\", trigger: 'blur' },\n              ], \n              repassword: [\n                { required: true, validator: repasswordValidate, trigger: 'blur' },\n                { min: 6, max: 20, message: \"密码长度不少于6且不大于20\", trigger: 'blur' },\n              ],                                           \n          },\n            commisionForm: {\n                account: '',\n                rate: ''\n            },          \n            commisionRules: {\n              account: [\n                  { required: true, message: '请输入用户名', trigger: 'blur' },\n              ],\n              rate: [\n                  { required: true, message: '请输入佣金比例', trigger: 'blur' },\n              ],                   \n            },           \n          }\n      },\n      methods: {\n          addUser() {\n              this.commisionDialogShow = true\n          },\n          /*\n          **处理搜素事件\n          */\n          async handleSearchClick(){\n            await this._getContractorLst(this.conditon)\n          }\n          ,\n          /*\n          **处理新增用户事件\n          */\n          async handleAddUser() {\n            let body = this.form\n            body.platform = 1\n            let resData = await this.http.post(`${this.common.basePath}/platform/createNewPlatform.api`,body)\n            if(resData.code === 200)\n            {\n              this.$message.success(\"注册成功\")\n              this.commisionDialogShow = false\n              this._getContractorLst(this.conditon)\n            }\n          },\n          /*\n          **网络获取承兑商列表\n          */\n         async _getContractorLst(conditon) {\n           let _conditon = conditon\n           let resData = await this.http.get('/platform/acceptanceLists', conditon)\n           if(resData.code === 200){\n              this.contractorList = resData.data.data\n              this.conditon.page = resData.data.current_page\n              this.total = resData.data.total             \n           }\n\n           \n         },\n        /*\n         **处理冻结平台账户事件\n         */\n       async handleFrozenAccount(id, index){\n         let _index = index\n         let platformId = id\n         let resData = await this.http.get('/platform/frozenPlatform', {id: platformId})\n         if(resData.code===200)\n         {\n           this.$message.success(\"禁用成功\")\n           this.contractorList[_index].isFrozen = true\n           this.contractorList[_index].isActive = false\n         }\n        },\n        /*\n         **处理启动平台账户事件\n         */\n       async handleEnableAccount(id, index){\n         let _index = index\n         let platformId = id\n         let resData = await this.http.get('/platform/enablePlatform', {id: platformId})\n         if(resData.code===200)\n         {\n           this.$message.success(resData.msg)\n           this.contractorList[_index].isFrozen = false\n           this.contractorList[_index].isActive = true\n         }\n        },        \n        /*\n        **处理分页当前页改变事件\n        */\n       handleCurrentchange(val) {\n         this.conditon.page = val\n         this._getContractorLst(this.conditon)\n       },\n       /*\n       **处理确定设置佣金事件\n       */\n       async handleConfirmSetCommis(){\n         let param = {\n           type: 1,\n           tel: this.commisionForm.account,\n           proportion: this.commisionForm.rate\n         }\n         let resData = await this.http.get('/platform/setAcceptanceComsion', param)\n         if(resData.code == 200)\n         {\n           this.$message.success(resData.msg)\n         }\n       },\n       /*\n       **修改用户\n       */      \n       async handleEditUser(id) {\n         let _id = id\n         this.isEdit = true\n         this.commisionDialogShow = true\n         let resData = await this.http.get('/platform/acceptanceDetail', {id: _id})\n         this.form.tel = resData.tel\n         this.form.platformName = resData.platformName\n         this.form.industry = resData.industry\n         this.form.type = resData.company\n         this.form.id = _id\n       },\n       /*\n       **确认修改用户\n       */ \n       async handleConfirmEditUser() {\n         let data = {\n           id: this.form.id,\n           tel: this.form.tel,\n           platformName: this.form.platformName,\n           company: this.form.type,\n           industry: this.form.industry,\n           password: this.form.password,\n           repassword: this.form.repassword\n         }\n         let resData = await this.http.post('/platform/editAcceptance', data)\n         if(resData.code === 200){\n           this.$message.success(resData.msg)\n           this.commisionDialogShow = false\n           await this._getContractorLst(this.conditon)\n         }\n       },\n       /*\n       **取消修改/增加用户\n       */ \n       cancealCommisionDialog() {\n         this.commisionDialogShow = false\n        this.$refs.form.resetFields()\n       },\n       /*\n       **承兑冻结保证金\n       */\n       async frozenBond(id){\n         let _id = id\n         let resData = await this.http.get('/platform/frozenBond', {id: _id})\n         if(resData.code === 200){\n           this.$message.success(resData.msg)\n           this._getContractorLst(this.conditon)\n         }\n       },\n       /*\n       **承兑解冻保证金\n       */\n       async thawBond(id){\n         let _id = id\n         let resData = await this.http.get('/platform/thawBond', {id: _id})\n         if(resData.code === 200){\n           this.$message.success(resData.msg)\n           this._getContractorLst(this.conditon)\n         } \n       },\n       /*\n       **冻结可提现\n       */\n       async frozendrawAmount(id, time){\n         let _id = id\n         let _time = time\n         let resData = await this.http.get('/platform/frozenCashBalance', {id: _id, drawTime: _time})\n         if(resData.code === 200){\n           this.$message.success(resData.msg)\n            await this._getContractorLst(this.conditon)\n           this.setFrozenDialog = false\n         }\n       },\n       /*\n       **解冻可提现\n       */\n      async thawdrawAmount(id, time){\n        let _id = id\n        let _time = time\n        let resData = await this.http.get('/platform/drawCashBalance', {id: _id, drawTime: _time})\n        if(resData.code === 200){\n          this.$message.success(resData.msg)\n          await this._getContractorLst(this.conditon)\n          \n        }\n      },\n      /*\n      **确认选择的时间\n      */\n     frozendateChange(value){\n       let currentTimeStamp = (new Date()).getTime()\n       if(value.getTime() < currentTimeStamp)\n       {\n         this.$message.error(\"冻结不得早于当前时间\")\n         this.frozenDate = ''\n         this.dateString = ''\n         this.setFrozenDialog = false\n       }\n       else{\n         this.dateString = this.common.formatDate(value)\n       }\n     },\n      /*\n      **取消设置冻结\n      */\n     concrealfrozendate(){\n          this.frozenDate = ''\n          this.dateString = ''\n          this.setFrozenDialog = false\n     },\n     /*\n     **跳转订单管理\n     */\n     handlePushOrderMang(name){\n       let _name = name\n       this.$router.push({name: 'orderManage', query:{searchType: 2, keyword: _name}})\n     }\n      },\n      async mounted() {\n        await this._getContractorLst(this.conditon)\n      },\n  }\n</script>\n<style lang=\"less\" scoped>\n.contain-footer-topr{\n    .searchTool{\n        margin-right: 0;\n    }\n}\n .contain-head{\n    margin-bottom: 2vh;\n }\n #disableAcount{\n   margin-left: 10px;\n }\n .state-active{\n   color: #6BCC03;\n }\n .state{\n   color: #f00;\n }\n .frozenTime-time{\n   color: #F56C6C\n }\n</style>\n<style lang=\"less\">\n.el-radio__inner:hover{\n  border-color: #54B3D9\n}\n</style>\n\n"],"sourceRoot":"src/views/contractor"}]}